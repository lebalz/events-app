"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[611],{4673:(e,t,n)=>{n.d(t,{Z:()=>v});var l=n(7462),a=n(7294),s=n(6010),r=n(2389),c=n(6043);const o="details_lb9f",m="isBrowser_bmU9",i="collapsibleContent_i85q";function d(e){return!!e&&("SUMMARY"===e.tagName||d(e.parentElement))}function u(e,t){return!!e&&(e===t||u(e.parentElement,t))}function E(e){let{summary:t,children:n,...E}=e;const p=(0,r.Z)(),v=(0,a.useRef)(null),{collapsed:f,setCollapsed:b}=(0,c.u)({initialState:!E.open}),[h,N]=(0,a.useState)(E.open);return a.createElement("details",(0,l.Z)({},E,{ref:v,open:h,"data-collapsed":f,className:(0,s.Z)(o,p&&m,E.className),onMouseDown:e=>{d(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;d(t)&&u(t,v.current)&&(e.preventDefault(),f?(b(!1),N(!0)):b(!0))}}),t??a.createElement("summary",null,"Details"),a.createElement(c.z,{lazy:!1,collapsed:f,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{b(e),N(!e)}},a.createElement("div",{className:i},n)))}const p="details_b_Ee";function v(e){let{...t}=e;return a.createElement(E,(0,l.Z)({},t,{className:(0,s.Z)("alert alert--info",p,t.className)}))}},565:(e,t,n)=>{n.d(t,{Z:()=>y});var l=n(1314),a=n(6010),s=n(1217),r=n(7294);const c="container_UHDD",o="navbar_diMJ",m="button_jVKi",i="scrollContainer_A12N",d="fullscreen_y9b4",u="table_vwM1",E="container_eGB3",p="select_fpuQ";var v=n(4374),f=n(8949);const b=(0,s.Pi)((e=>{const t=(0,l.o)("eventStore"),n=(0,l.o)("untisStore"),s=t.find(e.eventId);return r.createElement("div",{className:(0,a.Z)(E)},r.createElement(v.ZP,{menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999})},className:(0,a.Z)(p),classNamePrefix:"select",value:s.classes.map((e=>{var t;return{label:e,value:(null==(t=n.findClassByName(e))?void 0:t.id)||"-"}})),options:n.sortedClasses.slice().map((e=>({value:e.id,label:`${e.name}`}))),onChange:(0,f.aD)((e=>{console.log(e),e&&s.classes.replace(e.map((e=>e.label)))})),isMulti:!0,isSearchable:!0,isClearable:!0}))})),h={datePicker:"datePicker_t_wz",gbsl:"gbsl_NEvy",fms:"fms_DQ2z",wms:"wms_Jav2",eventRow:"eventRow_JClS",kw:"kw_oYUj",weekday:"weekday_oD07",description:"description_ymu7",location:"location_WWN0",descriptionLong:"descriptionLong_UX1h",edit:"edit_M9_w",expanded:"expanded_WZ86"},N=(0,s.Pi)(r.forwardRef(((e,t)=>{const[n,s]=r.useState(!1),c=(0,l.o)("viewStore"),{eventTable:o}=c,{event:m}=e;return r.createElement("tr",{ref:t,"data-id":m.id,onClick:()=>{n||s(!0)},onBlur:()=>{s(!1)},className:(0,a.W)(h.eventRow,n&&h.expanded)},r.createElement("td",{className:(0,a.W)(h.kw)},m.kw),r.createElement("td",{className:(0,a.W)(h.weekday)},m.weekday),r.createElement("td",{style:{maxWidth:o.maxWidthDescription},className:(0,a.W)(h.description)},m.description),r.createElement("td",{className:(0,a.W)(h.startDate)},m.fStartDate),r.createElement("td",{className:(0,a.W)(h.startTime)},m.fStartTime),r.createElement("td",{className:(0,a.W)(h.endDate)},m.fEndDate),r.createElement("td",{className:(0,a.W)(h.endTime)},m.fEndTime),r.createElement("td",{className:(0,a.W)(h.location),style:{maxWidth:o.maxWidthLocation}},m.location),r.createElement("td",{className:(0,a.W)(h.departmentNames)},m.departmentNames.map(((e,t)=>r.createElement("span",{key:t,className:(0,a.W)("badge","badge--primary",h.badge,h[e.toLowerCase()])},e)))),r.createElement("td",{className:(0,a.W)(h.classes)},m.classes.map(((e,t)=>r.createElement("span",{key:t,className:(0,a.W)("badge","badge--secondary")},e)))),r.createElement("td",{className:(0,a.W)(h.descriptionLong),style:{maxWidth:o.maxWidthDescriptionLong}},m.descriptionLong),m.isEditable&&r.createElement("td",null,r.createElement("button",{className:(0,a.W)("button","button--danger"),onClick:()=>{m.destroy()}},"L\xf6schen")),m.isEditable&&r.createElement("td",{style:{minWidth:"300px"}},r.createElement(b,{eventId:m.id})),m.isEditable&&m.isDirty&&r.createElement("td",{className:(0,a.W)(h.edit)},r.createElement("button",{className:(0,a.W)("button","button--primary"),onClick:()=>{m.save()}},"Save")))})));var w=n(8517);const y=(0,s.Pi)((e=>{var t;const n=(0,l.o)("viewStore"),s=r.useRef(null);r.useEffect((()=>{const t=n.fullscreen;return e.showFullscreenButton&&n.setShowFullscreenButton(!0),()=>n.setShowFullscreenButton(t)}),[]),r.useEffect((()=>{const e=()=>{if(s.current){n.eventTable.setClientWidth(s.current.clientWidth);const e=parseFloat(getComputedStyle(s.current).fontSize);n.eventTable.setBaseFontSize(e)}};return s.current&&(window.addEventListener("resize",e),e()),()=>window.removeEventListener("resize",e)}),[s,n]),r.useEffect((()=>(0,f.U5)((()=>n.fullscreen),(e=>{var t;e?null==(t=s.current)||t.requestFullscreen():document.fullscreenElement&&document.exitFullscreen();console.log("fullscreen",n.fullscreen)}))),[]),r.useEffect((()=>{const e=()=>{!!document.fullscreenElement!==n.fullscreen&&n.setFullscreen(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[]);const E=null==(t=(0,l.o)("userStore").current)?void 0:t.id;return r.createElement("div",{className:(0,a.Z)(c),ref:s},n.fullscreen&&r.createElement("div",{className:(0,a.Z)(o)},r.createElement("div",{className:(0,a.Z)(m)},r.createElement(w.Z,null))),r.createElement("div",{className:(0,a.Z)(i,n.fullscreen&&d)},r.createElement("table",{className:(0,a.Z)(u)},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"KW"),r.createElement("th",null,"Tag"),r.createElement("th",null,"Stichwort"),r.createElement("th",null,"Start"),r.createElement("th",null,"Zeit"),r.createElement("th",null,"Ende"),r.createElement("th",null,"Zeit"),r.createElement("th",null,"Ort"),r.createElement("th",null,r.createElement("div",null,"Schulen")),r.createElement("th",null,"Klassen"),r.createElement("th",null,"Beschreibung"))),r.createElement("tbody",null,e.events.map((e=>r.createElement(N,{key:e.id,event:e,locked:e.authorId!==E})))))))}))},7657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var l=n(7294),a=n(1217),s=n(1314),r=n(4424),c=n(565),o=n(4673);const m=(0,a.Pi)((()=>{const e=(0,s.o)("semesterStore");return l.createElement(r.Z,null,l.createElement("div",null,e.semesters.map(((e,t)=>l.createElement(o.Z,{key:t,summary:l.createElement("summary",null,e.name),open:e.isCurrent},l.createElement(c.Z,{events:e.events,showFullscreenButton:!0}))))))}))}}]);