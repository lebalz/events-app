"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[858],{1525:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(7294),r=n(6010);const l={filter:"filter_qD68",basic:"basic_t4OQ",audience:"audience_nVNp",showAdvancedFilter:"showAdvancedFilter_kBHk",advanced:"advanced_Vqsq",department:"department_YuWS",dates:"dates_la2P",date:"date_bdzb"};var a=n(6670),d=n(1314),i=n(9346),c=n(5317),o=n(3924),u=n(9873),h=n(6363),v=n(7989),x=n(5999),g=n(5893);const f=(0,a.Pi)((e=>{const t=(0,d.oR)("viewStore"),n=(0,d.oR)("departmentStore"),{eventTable:a}=t;return s.useEffect((()=>{if(!e.showCurrentAndFuture&&a.onlyCurrentWeekAndFuture)return a.setOnlyCurrentWeekAndFuture(!1),()=>a.setOnlyCurrentWeekAndFuture(!0)}),[e.showCurrentAndFuture]),(0,g.jsxs)("div",{className:(0,r.Z)(l.filter),children:[(0,g.jsxs)("div",{className:(0,r.Z)(l.basic),children:[(0,g.jsxs)("div",{className:(0,r.Z)(l.audience,"button-group","button-group--block"),children:[!!t.user&&(0,g.jsx)(i.ZP,{text:(0,x.I)({message:"Meine",id:"event.filter.mine",description:"Filter: Only events affecting me"}),active:a.onlyMine,color:"blue",onClick:()=>a.toggleOnlyMine()}),a.showCurrentAndFutureFilter&&e.showCurrentAndFuture&&(0,g.jsx)(i.ZP,{text:(0,x.I)({message:"K\xfcnftige",id:"event.filter.future",description:"Filter: Only current and future events"}),active:a.onlyCurrentWeekAndFuture,color:"blue",onClick:()=>a.setOnlyCurrentWeekAndFuture(!a.onlyCurrentWeekAndFuture)})]}),(0,g.jsx)("div",{className:(0,r.Z)(l.classes,l.fuzzyFilter),children:(0,g.jsx)(o.Z,{placeholder:(0,x.I)({message:"Suche",id:"joi.event.description"}),onChange:e=>a.setTextFilter(e),text:a.klassFilter})}),(0,g.jsx)("div",{className:(0,r.Z)(l.showMore),children:(0,g.jsx)(i.ZP,{icon:h.OY,size:h.yd,active:a.showAdvancedFilter,className:(0,r.Z)(l.showAdvancedFilter),color:a.hasAdvancedFilters?"blue":void 0,onClick:()=>a.setShowAdvancedFilter(!a.showAdvancedFilter)})})]}),a.showAdvancedFilter&&(0,g.jsxs)("div",{className:(0,r.Z)(l.advanced),children:[(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:(0,r.Z)(l.department,"button-group","button-group--block"),children:n.usedDepartments.map((e=>(0,g.jsx)(i.ZP,{text:e.name,active:a.departmentIds.has(e.id),onClick:()=>a.toggleDepartment(e),color:"blue"},e.id)))})}),(0,g.jsx)("div",{children:(0,g.jsx)(v.Z,{label:"Gel\xf6schte Verstecken?",checked:a.hideDeleted,onChange:e=>a.setHideDeleted(e),labelSide:"left"})}),(0,g.jsxs)("div",{className:(0,r.Z)(l.dates),children:[(0,g.jsx)("div",{className:(0,r.Z)(l.date,l.start),children:a.start?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{date:a.start||new Date,onChange:e=>a.setStartFilter(e)}),(0,g.jsx)(i.ZP,{icon:c.VxL,iconSide:"left",text:"Start",onClick:()=>a.setStartFilter(null)})]}):(0,g.jsx)(i.ZP,{icon:c.jxF,iconSide:"left",text:"Start",onClick:()=>a.setStartFilter(new Date)})}),(0,g.jsx)("div",{className:(0,r.Z)(l.date,l.end),children:a.end?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{date:a.end||new Date,onChange:e=>a.setEndFilter(e)}),(0,g.jsx)(i.ZP,{icon:c.VxL,iconSide:"left",text:"Ende",onClick:()=>a.setEndFilter(null)})]}):(0,g.jsx)(i.ZP,{icon:c.jxF,iconSide:"left",text:"Ende",onClick:()=>a.setEndFilter(new Date)})})]})]})]})}))},7989:(e,t,n)=>{n.d(t,{Z:()=>h});n(7294);var s=n(6010);const r="checkbox_gJbf",l="label_D_bl",a="disabled_xuMP",d="partialChecked_Zohe",i="checked_OLMX";var c=n(6670),o=n(8949),u=n(5893);const h=(0,c.Pi)((e=>(0,u.jsx)("div",{className:(0,s.Z)(r,e.checked&&i,e.partialChecked&&d,e.className),children:(0,u.jsxs)("label",{className:(0,s.Z)(l,e.disabled&&a),children:["left"===e.labelSide&&e.label,(0,u.jsx)("input",{className:r,type:"checkbox",disabled:e.disabled,onChange:(0,o.aD)((t=>{e.onChange(!e.checked,t.nativeEvent.shiftKey)})),checked:e.checked}),"left"!==e.labelSide&&e.label]})})))},9873:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(7294),r=n(6330),l=n(8949),a=n(5893);const d=e=>{const[t,n]=s.useState((0,r.g7)(e.date).toISOString().substring(0,10));return s.useEffect((0,l.aD)((()=>{try{const n=new Date(t);e.onChange((0,r.g7)(n))}catch(n){}})),[t]),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"date",value:t,onChange:e=>{n(e.currentTarget.value)}})})}},3924:(e,t,n)=>{n.d(t,{Z:()=>a});n(7294);var s=n(6010);const r="textInput_K1iv";var l=n(5893);const a=e=>(0,l.jsx)("div",{className:(0,s.Z)(e.className,r),children:(0,l.jsx)("input",{type:e.search?"search":"text",value:e.text,placeholder:e.placeholder,onChange:t=>{e.onChange(t.currentTarget.value)}})})},2400:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var s=n(7294),r=n(6010);const l="container_yPxC",a="gantt_eT4N";var d=n(3791),i=n(6670),c=n(1314),o=n(7316),u=n(1525),h=n(7661),v=n(6809),x=n(5893);const{CURRENT_LOCALE:g}=v.default.customFields,f={de:"gsw",fr:"fr"},m=(0,h.kq)((e=>e.map(((e,t)=>{const n={progressColor:"#ffbb54",progressSelectedColor:"#ff9e0d"};return e.isDeleted&&(n.progressColor="#ff0000",n.progressSelectedColor="#830000",n.backgroundSelectedColor="#830000",n.backgroundColor="#ff0000"),{start:e.start,end:e.end,name:`${e.isDeleted?"\u274c: ":""}${e.description}`,id:e.id||`id-${t}`,type:"task",progress:e.progress,isDisabled:!0,styles:n}})))),p=(0,i.Pi)((()=>{const e=(0,c.oR)("viewStore"),{eventTable:t}=e,n=s.useRef(null),[i,h]=s.useState(0),v=m(t.events);return s.useEffect((()=>{const e=setTimeout((()=>{const e=document.querySelector(".today");e&&(e.scrollIntoView(),window.scrollTo(0,0))}),20);return()=>clearTimeout(e)}),[v]),s.useEffect((()=>{const e=n.current;if(e){const t=e.querySelectorAll("div");if(t.length>1){const e=t[1],n=e=>{e.stopImmediatePropagation()};return e.addEventListener("wheel",n),()=>e.removeEventListener("wheel",n)}if(i<50){const e=setTimeout((()=>{h(i+1)}),200);return()=>clearTimeout(e)}console.warn("Could not find the wheel-blocking div in the gantt component. Sidescrolling might not work.")}}),[n.current,i]),(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(u.Z,{showCurrentAndFuture:!0}),(0,x.jsx)("div",{className:(0,r.Z)(l),children:(0,x.jsx)("div",{className:(0,r.Z)(a),ref:n,children:v.length>0&&(0,x.jsx)(d.A,{tasks:v,viewMode:d.w.Day,listCellWidth:"",viewDate:new Date,rowHeight:20,locale:f[g||"de"],onClick:t=>{e.setEventModalId(t.id)}})})})]})})),C=p}}]);