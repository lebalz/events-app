"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[203],{4673:(e,t,n)=>{n.d(t,{Z:()=>f});var l=n(7462),a=n(7294),r=n(6010),s=n(2389),c=n(6043);const o="details_lb9f",m="isBrowser_bmU9",u="collapsibleContent_i85q";function i(e){return!!e&&("SUMMARY"===e.tagName||i(e.parentElement))}function d(e,t){return!!e&&(e===t||d(e.parentElement,t))}function E(e){let{summary:t,children:n,...E}=e;const v=(0,s.Z)(),f=(0,a.useRef)(null),{collapsed:p,setCollapsed:h}=(0,c.u)({initialState:!E.open}),[b,w]=(0,a.useState)(E.open);return a.createElement("details",(0,l.Z)({},E,{ref:f,open:b,"data-collapsed":p,className:(0,r.Z)(o,v&&m,E.className),onMouseDown:e=>{i(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;i(t)&&d(t,f.current)&&(e.preventDefault(),p?(h(!1),w(!0)):h(!0))}}),t??a.createElement("summary",null,"Details"),a.createElement(c.z,{lazy:!1,collapsed:p,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{h(e),w(!e)}},a.createElement("div",{className:u},n)))}const v="details_b_Ee";function f(e){let{...t}=e;return a.createElement(E,(0,l.Z)({},t,{className:(0,r.Z)("alert alert--info",v,t.className)}))}},2734:(e,t,n)=>{n.d(t,{Z:()=>h});var l=n(1314),a=n(6010),r=n(1217),s=n(7294);const c="container_UHDD",o="navbar_diMJ",m="button_jVKi",u="scrollContainer_A12N",i="fullscreen_y9b4",d="table_vwM1",E={datePicker:"datePicker_t_wz",gbsl:"gbsl_NEvy",fms:"fms_DQ2z",wms:"wms_Jav2",eventRow:"eventRow_JClS",kw:"kw_oYUj",weekday:"weekday_oD07",description:"description_ymu7",location:"location_WWN0",descriptionLong:"descriptionLong_UX1h",expanded:"expanded_WZ86"},v=(0,r.Pi)(s.forwardRef(((e,t)=>{const[n,r]=s.useState(!1),c=(0,l.o)("viewStore"),{eventTable:o}=c,{event:m}=e;return s.createElement("tr",{ref:t,"data-id":m.id,onClick:()=>{n||r(!0)},onBlur:()=>{r(!1)},className:(0,a.W)(E.eventRow,n&&E.expanded)},s.createElement("td",{className:(0,a.W)(E.kw)},m.kw),s.createElement("td",{className:(0,a.W)(E.weekday)},m.weekday),s.createElement("td",{style:{maxWidth:o.maxWidthDescription},className:(0,a.W)(E.description)},m.description),s.createElement("td",{className:(0,a.W)(E.startDate)},m.fStartDate),s.createElement("td",{className:(0,a.W)(E.startTime)},m.fStartTime),s.createElement("td",{className:(0,a.W)(E.endDate)},m.fEndDate),s.createElement("td",{className:(0,a.W)(E.endTime)},m.fEndTime),s.createElement("td",{className:(0,a.W)(E.location),style:{maxWidth:o.maxWidthLocation}},m.location),s.createElement("td",{className:(0,a.W)(E.departmentNames)},m.departmentNames.map(((e,t)=>s.createElement("span",{key:t,className:(0,a.W)("badge","badge--primary",E.badge,E[e.toLowerCase()])},e)))),s.createElement("td",{className:(0,a.W)(E.classes)},m.classes.map(((e,t)=>s.createElement("span",{key:t,className:(0,a.W)("badge","badge--secondary")},e)))),s.createElement("td",{className:(0,a.W)(E.descriptionLong),style:{maxWidth:o.maxWidthDescriptionLong}},m.descriptionLong))})));var f=n(8949),p=n(8517);const h=(0,r.Pi)((e=>{var t;(0,l.o)("eventStore");const n=(0,l.o)("viewStore"),r=s.useRef(null);s.useEffect((()=>{const t=n.fullscreen;return e.showFullscreenButton&&n.setShowFullscreenButton(!0),()=>n.setShowFullscreenButton(t)}),[]),s.useEffect((()=>{const e=()=>{if(r.current){n.eventTable.setClientWidth(r.current.clientWidth);const e=parseFloat(getComputedStyle(r.current).fontSize);n.eventTable.setBaseFontSize(e)}};return r.current&&(window.addEventListener("resize",e),e()),()=>window.removeEventListener("resize",e)}),[r,n]),s.useEffect((()=>(0,f.U5)((()=>n.fullscreen),(e=>{var t;e?null==(t=r.current)||t.requestFullscreen():document.fullscreenElement&&document.exitFullscreen();console.log("fullscreen",n.fullscreen)}))),[]),s.useEffect((()=>{const e=()=>{!!document.fullscreenElement!==n.fullscreen&&n.setFullscreen(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[]);const E=null==(t=(0,l.o)("userStore").current)?void 0:t.id;return s.createElement("div",{className:(0,a.Z)(c),ref:r},n.fullscreen&&s.createElement("div",{className:(0,a.Z)(o)},s.createElement("div",{className:(0,a.Z)(m)},s.createElement(p.Z,null))),s.createElement("div",{className:(0,a.Z)(u,n.fullscreen&&i)},s.createElement("table",{className:(0,a.Z)(d)},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null,"KW"),s.createElement("th",null,"Tag"),s.createElement("th",null,"Stichwort"),s.createElement("th",null,"Start"),s.createElement("th",null,"Zeit"),s.createElement("th",null,"Ende"),s.createElement("th",null,"Zeit"),s.createElement("th",null,"Ort"),s.createElement("th",null,s.createElement("div",null,"Schulen")),s.createElement("th",null,"Klassen"),s.createElement("th",null,"Beschreibung"))),s.createElement("tbody",null,e.events.map((e=>s.createElement(v,{key:e.id,event:e,locked:e.authorId!==E})))))))}))},6662:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var l=n(7294),a=n(1217),r=n(4424),s=n(6010),c=n(1314);const o=(0,a.Pi)((e=>{const t=(0,c.o)("eventStore");return l.createElement("div",null,l.createElement("button",{onClick:()=>{t.newEvent()},className:(0,s.Z)("button","button--primary")},"+ Neues Event"))}));var m=n(2734),u=n(4673);const i=(0,a.Pi)((()=>{var e;const t=(0,c.o)("eventStore"),n=(0,c.o)("userStore"),a=(0,c.o)("jobStore"),s=null==(e=n.current)?void 0:e.id;return l.createElement(r.Z,null,l.createElement("div",null,l.createElement(o,null),l.createElement(m.Z,{events:t.byUser(s).filter((e=>!e.jobId)),showFullscreenButton:!1}),a.models.map(((e,t)=>{var n;return l.createElement(u.Z,{key:t,summary:l.createElement("summary",null,null==(n=e.user)?void 0:n.email," - ",e.filename||"|"," - ",e.state," - ",e.events.length)},l.createElement("div",null,l.createElement("button",{"aria-label":"Close",className:"clean-btn close",type:"button",onClick:()=>{a.destroy(e)}},l.createElement("span",{"aria-hidden":"true"},"\xd7")),l.createElement(m.Z,{events:e.events,showFullscreenButton:!1})))}))))}))}}]);