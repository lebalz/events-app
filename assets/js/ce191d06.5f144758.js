"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[264],{26987:(e,t,s)=>{s.d(t,{Ay:()=>N,n0:()=>k,O4:()=>w,k7:()=>F});var r=s(96540),n=s(34164);const l={filter:"filter_qD68",basic:"basic_t4OQ",spacer:"spacer_qI_4",audience:"audience_nVNp",showMore:"showMore_pLh5",showAdvancedFilter:"showAdvancedFilter_kBHk",dirty:"dirty_RftN",advanced:"advanced_Vqsq",selects:"selects_es0U",classes:"classes_CcOR",indicatorsContainer:"indicatorsContainer_sOr1",multiValue:"multiValue_riDV",dates:"dates_la2P",date:"date_bdzb",buttonGroup:"buttonGroup_XGT8",control:"control_DD5p"};var a=s(36277),i=s(19760),o=s(70033),c=s(9165),d=s(70347),u=s(42351),m=s(79660),v=s(59041),h=s(21312),p=s(46005),A=s(2543),f=s.n(A),x=s(85996),g=s.n(x),y=s(64841),j=s(74848);const C=(0,a.PA)((e=>{const t=(0,i.Pj)("viewStore");return(0,j.jsx)("div",{className:(0,n.A)(y.A.showSelect),children:(0,j.jsx)(o.Ay,{icon:c.$6Y,text:e.label,size:m.iJ,onClick:()=>t.eventTable.toggleShowSelect(),title:(0,h.T)({id:"event.bulkActions.show_select",message:"Terminauswahl anzeigen"})})})}));var b=s(40010);const w={option:(e,t)=>{let{data:s,isFocused:r}=t;return{...e,color:s?.color,backgroundColor:r?"var(--docusaurus-collapse-button-bg-hover)":void 0}},multiValue:(e,t)=>{let{data:s}=t;return{...e,color:s?.color}},multiValueLabel:(e,t)=>{let{data:s}=t;return{...e,color:s?.color}},valueContainer:e=>({...e,padding:"0px",paddingLeft:"4px"}),menuPortal:e=>({...e,zIndex:"var(--ifm-z-index-overlay)"})},k={indicatorsContainer:()=>l.indicatorsContainer,multiValue:()=>l.multiValue,control:()=>l.control,menu:()=>l.control},F=e=>({...e,colors:{...e.colors,primary25:"var(--ifm-color-primary-lightest)",primary50:"var(--ifm-color-primary-lighter)",primary75:"var(--ifm-color-primary-light)",primary:"var(--ifm-color-primary)"}}),N=(0,a.PA)((e=>{const t=(0,i.Pj)("viewStore"),s=(0,i.Pj)("departmentStore"),a=(0,i.Pj)("untisStore"),{eventTable:A}=t;r.useEffect((()=>{if(!e.showCurrentAndFuture&&A.onlyCurrentWeekAndFuture)return A.setOnlyCurrentWeekAndFuture(!1),()=>A.setOnlyCurrentWeekAndFuture(!0)}),[e.showCurrentAndFuture]);const y=e.showSelectLocation||"quick";return(0,j.jsxs)("div",{className:(0,n.A)(l.filter),children:[(0,j.jsxs)("div",{className:(0,n.A)(l.basic),children:[e.showSelects&&!A.showSelect&&"quick"===y&&(0,j.jsx)(C,{}),(0,j.jsx)("div",{className:(0,n.A)(l.spacer)}),(0,j.jsxs)("div",{className:(0,n.A)(l.audience,"button-group","button-group--block"),children:[!!t.user&&(0,j.jsx)(o.Ay,{text:(0,h.T)({message:"Meine",id:"event.filter.mine",description:"Filter: Only events affecting me"}),title:(0,h.T)({message:"Nur die f\xfcr mich relevanten Termine anzeigen",id:"event.filter.mine.title"}),active:A.onlyMine,color:"primary",onClick:()=>A.toggleOnlyMine()}),A.showCurrentAndFutureFilter&&e.showCurrentAndFuture&&(0,j.jsx)(o.Ay,{text:(0,h.T)({message:"K\xfcnftige",id:"event.filter.future",description:"Filter: Only current and future events"}),title:(0,h.T)({message:"Vergangene Termine ausblenden.",id:"event.filter.future.title",description:"Filter: Only current and future events"}),active:A.onlyCurrentWeekAndFuture,color:"primary",onClick:()=>A.setOnlyCurrentWeekAndFuture(!A.onlyCurrentWeekAndFuture)})]}),(0,j.jsx)("div",{className:(0,n.A)(l.classes,l.fuzzyFilter),children:(0,j.jsx)(d.A,{placeholder:(0,h.T)({message:"Suche",id:"event.filter.search"}),onChange:e=>A.setTextFilter(e),text:A.klassFilter})}),(0,j.jsxs)("div",{className:(0,n.A)(l.showMore),children:[(0,j.jsx)(o.Ay,{icon:m.ys,size:m.iJ,active:A.showAdvancedFilter,className:(0,n.A)(l.showAdvancedFilter),color:A.hasAdvancedFilters?"primary":void 0,onClick:()=>A.setShowAdvancedFilter(!A.showAdvancedFilter)}),A.hasAdvancedFilters&&(0,j.jsx)("span",{className:(0,n.A)(l.dirty),children:(0,j.jsxs)(x.Stack,{size:m.WG,children:[(0,j.jsx)(g(),{path:c.jwx,size:m.WG,color:"var(--ifm-background-surface-color)"}),(0,j.jsx)(g(),{path:c.ZL5,size:.9*m.WG,color:"var(--ifm-color-primary)"})]})})]}),(0,j.jsx)("div",{className:(0,n.A)(l.spacer)})]}),A.showAdvancedFilter&&(0,j.jsxs)("div",{className:(0,n.A)(l.advanced),children:[(0,j.jsxs)("div",{className:(0,n.A)(l.selects),children:[(0,j.jsx)("div",{className:(0,n.A)(l.department),children:(0,j.jsx)(p.Ay,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,h.T)({message:"Abteilungen",id:"event.filter.departments",description:"Filter: Departments"}),name:"departments-filter",menuPortalTarget:document.body,options:f().orderBy(s.usedDepartments,["name"]).map((e=>({value:e.id,label:e.name,color:e?.color}))),styles:w,className:(0,n.A)(l.select),classNames:k,value:[...A.departmentIds].map((e=>{const t=s.find(e);return{value:e,label:t?.name||"",color:t?.color||"#ccc"}})),onChange:e=>{const t=e.map((e=>e.value));A.setDepartmentIds(t)},theme:F})}),(0,j.jsx)("div",{className:(0,n.A)(l.classes),children:(0,j.jsx)(p.Ay,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,h.T)({message:"Klassen",id:"event.filter.classes",description:"Filter: Classes"}),name:"class-filter",menuPortalTarget:document.body,options:f().orderBy(a.classes,["name"]).map((e=>({value:e.name,label:e.displayName,color:e.department?.color}))),styles:w,className:(0,n.A)(l.select),classNames:k,value:[...A.classNames].map((e=>{const t=a.findClassByName(e);return{value:e,label:t?.displayName||"",color:t?.department?.color||"#ccc"}})),onChange:e=>{const t=e.map((e=>e.value));A.setClassNames(t)},theme:F})})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)(h.A,{id:"event.filter.advanced.filterAudience",children:"Nach Zielgruppe filtern"})}),(0,j.jsx)("div",{className:(0,n.A)(l.buttonGroup,"button-group","button-group--block"),children:Object.keys(b.hu).map((e=>(0,j.jsx)(o.Ay,{text:b.aZ[e],active:A.audienceFilter.has(e),color:"primary",onClick:()=>A.setAudienceFilter(e)},e)))})]}),(0,j.jsx)("div",{children:(0,j.jsx)(v.A,{label:(0,h.T)({message:"Gel\xf6schte Verstecken?",id:"event.filter.deleted",description:"Filter: deleted"}),checked:A.hideDeleted,onChange:e=>A.setHideDeleted(e),labelSide:"left"})}),e.showSelects&&!A.showSelect&&"advanced"===y&&(0,j.jsx)("div",{children:(0,j.jsx)(C,{label:(0,h.T)({id:"event.filter.show_select",message:"Termine ausw\xe4hlen"})})}),(0,j.jsxs)("div",{className:(0,n.A)(l.dates),children:[(0,j.jsx)("div",{className:(0,n.A)(l.date,l.start),children:A.start?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.A,{date:A.start||new Date,onChange:e=>A.setStartFilter(e),time:"start"}),(0,j.jsx)(o.Ay,{icon:c.xkN,iconSide:"left",text:"Start",onClick:()=>A.setStartFilter(null)})]}):(0,j.jsx)(o.Ay,{icon:c.Bp_,iconSide:"left",text:"Start",onClick:()=>A.setStartFilter(new Date)})}),(0,j.jsx)("div",{className:(0,n.A)(l.date,l.end),children:A.end?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.A,{date:A.end||new Date,onChange:e=>A.setEndFilter(e),time:"end"}),(0,j.jsx)(o.Ay,{icon:c.xkN,iconSide:"left",text:"Ende",onClick:()=>A.setEndFilter(null)})]}):(0,j.jsx)(o.Ay,{icon:c.Bp_,iconSide:"left",text:"Ende",onClick:()=>A.setEndFilter(new Date)})})]})]})]})}))},74474:(e,t,s)=>{s.d(t,{A:()=>A});var r=s(96540),n=s(34164);const l="container_dISx",a="gantt_B07y";var i=s(2219),o=s(36277),c=s(86123),d=s(4784),u=s(19760),m=s(74848);const{CURRENT_LOCALE:v}=d.default.customFields,h={de:"gsw",fr:"fr"},p=(0,c.Aj)((e=>e.map(((e,t)=>{const s={progressColor:"#ffbb54",progressSelectedColor:"#ff9e0d"};return e.isDeleted&&(s.progressColor="#ff0000",s.progressSelectedColor="#830000",s.backgroundSelectedColor="#830000",s.backgroundColor="#ff0000"),{start:e.start,end:e.end,name:`${e.isDeleted?"\u274c: ":""}${e.description}`,id:e.id||`id-${t}`,type:"task",progress:e.progress,isDisabled:!0,styles:s}})))),A=(0,o.PA)((e=>{const t=r.useRef(null),[s,o]=r.useState(0),c=p(e.events),d=(0,u.Pj)("viewStore");r.useEffect((()=>{const e=setTimeout((()=>{const e=document.querySelector(".today");e&&(e.scrollIntoView(),window.scrollTo(0,0))}),20);return()=>clearTimeout(e)}),[e.events,e.events.length]),r.useEffect((()=>{const e=t.current;if(e){const t=e.querySelectorAll("div");if(t.length>1){const e=t[1],s=e=>{e.stopImmediatePropagation()};return e.addEventListener("wheel",s),()=>e.removeEventListener("wheel",s)}if(s<50){const e=setTimeout((()=>{o(s+1)}),200);return()=>clearTimeout(e)}console.warn("Could not find the wheel-blocking div in the gantt component. Sidescrolling might not work.")}}),[t.current,s]);const A=r.useMemo((()=>e=>{const t=e.target,s=t.querySelector('div[dir="ltr"] > svg');s&&(s.style.transform=`translateY(${t.scrollTop}px)`)}),[]);return(0,m.jsx)("div",{className:(0,n.A)(l),onScroll:A,children:(0,m.jsx)("div",{className:(0,n.A)(a),ref:t,children:c.length>0&&(0,m.jsx)(i.N,{tasks:c,viewMode:i.n.Day,listCellWidth:"",viewDate:new Date,rowHeight:20,locale:h[v||"de"],onClick:e=>{d.setEventModalId(e.id)}})})})}))},70347:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(96540),n=s(34164);const l="textInput_K1iv";var a=s(74848);const i=e=>{const t=r.useRef(null);return r.useEffect((()=>{t.current&&e.autoFocus&&t.current.focus()}),[t,e.autoFocus]),(0,a.jsx)("div",{className:(0,n.A)(e.className,l),children:(0,a.jsx)("input",{ref:t,type:e.search?"search":"text",value:e.text,placeholder:e.placeholder,autoFocus:e.autoFocus,onChange:t=>{e.onChange(t.currentTarget.value)}})})}},96524:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});s(96540);var r=s(36277),n=s(19760),l=s(53649),a=s(26987),i=s(74474),o=s(74848);const c=(0,r.PA)((()=>{const e=(0,n.Pj)("viewStore"),{eventTable:t}=e;return(0,o.jsxs)(l.A,{children:[(0,o.jsx)(a.Ay,{showCurrentAndFuture:!0}),(0,o.jsx)(i.A,{events:t.events})]})}))},64841:(e,t,s)=>{s.d(t,{A:()=>r});const r={bulk:"bulk_BjmH",stateActions:"stateActions_Zpyz",success:"success_BGHQ",revoke:"revoke_V7Y_",blue:"blue_xNLm",badge:"badge_zSdE",close:"close_v7Fh"}}}]);