"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[611],{2597:(e,t,n)=>{n.d(t,{Z:()=>k});var l=n(1314),a=n(6010),r=n(1217),c=n(7294);const d="table_g8Gw",o="td_QWnF",s="cell_fHhb",m="locked_oWCQ",u=e=>{const[t,n]=c.useState(!1);return c.createElement("td",{onMouseDown:l=>{e.locked||(t||l.preventDefault(),n(!0))},className:(0,a.default)(o)},t?c.createElement("form",null,c.createElement("textarea",{name:e.name,value:e.description,onChange:t=>{t.preventDefault(),e.onChange(t,e.id)},onBlur:e=>{e.preventDefault(),n(!1)},autoFocus:t,disabled:e.locked})):c.createElement("span",{className:(0,a.default)(s,e.locked&&m)},e.description||"-"))};var i=n(5141);const E={datePicker:"datePicker_zkfG",gym:"gym_DUtE",fms:"fms_yGUT",wms:"wms_wtpb"},p=(0,r.Pi)(c.forwardRef(((e,t)=>{const{event:n}=e;return c.createElement(c.Fragment,null,c.createElement("td",null,n.kw),c.createElement("td",null,n.weekday),c.createElement(u,{id:n.id,name:"description",description:n.description,onChange:e.onChange,locked:e.locked}),c.createElement("td",{style:{marginRight:"15px"},colSpan:2},n.isEditable?c.createElement(i.Z,{className:(0,a.default)(E.datePicker),onChange:e=>{n.setDateRange(e[0],e[1]),n.save(),console.log(e)},disableClock:!0,showLeadingZeros:!0,format:"dd.MM.yyyy HH:mm",clearIcon:null,"data-testid":"datePicker",value:[n.localStart,n.localEnd],locale:"gsw-u-sd-chzh"}):c.createElement("span",null,n.startDate)),c.createElement("td",null,n.location),c.createElement("td",null,n.departements.map(((e,t)=>c.createElement("span",{key:t,className:(0,a.default)("badge","badge--primary",E.badge,E[e.toLowerCase()])},e)))),c.createElement("td",null,n.classes.map(((e,t)=>c.createElement("span",{key:t,className:(0,a.default)("badge","badge--secondary")},e)))),c.createElement(u,{id:n.id,name:"descriptionLong",description:n.descriptionLong,onChange:e.onChange,locked:e.locked}))}))),g=(0,r.Pi)(c.forwardRef(((e,t)=>{const{event:n}=e;return c.createElement(c.Fragment,null,c.createElement("td",null,n.kw),c.createElement("td",null,n.weekday),c.createElement("td",null,n.description),c.createElement("td",null,`${n.startDate} ${n.startTime}`),c.createElement("td",null,`${n.endDate} ${n.endTime}`),c.createElement("td",null,n.location),c.createElement("td",null,n.departements.map(((e,t)=>c.createElement("span",{key:t,className:(0,a.default)("badge","badge--primary",E.badge,E[e.toLowerCase()])},e)))),c.createElement("td",null,n.classes.map(((e,t)=>c.createElement("span",{key:t,className:(0,a.default)("badge","badge--secondary")},e)))),c.createElement("td",null,n.descriptionLong))}))),h=(0,r.Pi)(c.forwardRef(((e,t)=>{const[n,l]=c.useState(!1),{event:a}=e;return c.createElement("tr",{ref:t,"data-id":a.id,onClick:()=>{e.locked||n||l(!0)},onBlur:()=>{l(!1)}},n?c.createElement(p,{event:a,onChange:e.onChange,locked:e.locked}):c.createElement(g,{event:a,locked:e.locked}))}))),k=(0,r.Pi)((e=>{var t;const n=(0,l.o)("eventStore"),r=(e,t)=>{const l={};l[e.target.name]=e.target.value,n.updateEvent(t,l)},o=null==(t=(0,l.o)("userStore").current)?void 0:t.id;return c.createElement("table",{className:(0,a.default)(d)},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,"KW"),c.createElement("th",null,"Wochentag"),c.createElement("th",null,"Stichwort"),c.createElement("th",null,"Start"),c.createElement("th",null,"Ende"),c.createElement("th",null,"Ort"),c.createElement("th",null,"Schulen"),c.createElement("th",null,"Klassen"),c.createElement("th",null,"Beschreibung"))),c.createElement("tbody",null,e.events.map((e=>c.createElement(h,{key:e.id,event:e,onChange:r,locked:e.authorId!==o})))))}))},6862:(e,t,n)=>{n.d(t,{Z:()=>d});var l=n(7294),a=n(6010),r=n(1217),c=n(1314);const d=(0,r.Pi)((e=>{const t=(0,c.o)("eventStore");return l.createElement("div",null,l.createElement("button",{onClick:()=>{t.newEvent()},className:(0,a.default)("button","button--primary")},"+ Neues Event"))}))},7657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var l=n(7294),a=n(1217),r=n(1314),c=n(5229),d=n(6862),o=n(2597);const s=(0,a.Pi)((()=>{const e=(0,r.o)("eventStore");(0,r.o)("userStore");return console.log(e.events.length),l.createElement(c.Z,null,l.createElement("div",null,l.createElement(d.Z,null),l.createElement(o.Z,{events:e.publishedAndMine})))}))}}]);