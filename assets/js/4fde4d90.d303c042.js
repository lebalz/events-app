"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([["977"],{18062:function(e,s,n){n.r(s),n.d(s,{default:()=>y});var r=n("85893"),i=n("67294");let t="unsubscribe_LrWC",a="event_DQhd",l="alert_OZxQ",c="wrapper_mCg8";var d=n("67026"),u=n("14575"),o=n("8849"),b=n.n(o),h=n("7227");function g(e){let{children:s,fallback:n}=e;return(0,h.Z)()?(0,r.jsx)(r.Fragment,{children:s?.()}):n??null}var v=n("55317"),x=n("96877"),p=n("16550"),j=n("96025"),m=n("60983"),Z=n("2565"),f=n("68949"),E=n("38673"),N=n("94222"),_=n("88093"),k=n("4757"),I=n("83012");let C=()=>(0,r.jsxs)("div",{className:(0,d.Z)("alert alert--danger",l),role:"alert",children:[(0,r.jsx)(b(),{path:v.eEg,size:1,color:"var(--ifm-color-danger)"}),(0,r.jsx)(j.Z,{id:"unsubscribe.noUser",description:"Nicht angemeldet",children:"Nicht angemeldet"})]}),P=()=>(0,r.jsxs)("div",{className:(0,d.Z)("alert alert--danger",l),role:"alert",children:[(0,r.jsx)(b(),{path:v.uax,size:1,color:"var(--ifm-color-danger)"}),(0,r.jsx)(j.Z,{id:"unsubscribe.noEvent",description:"Kein Termin gefunden",children:"Termin nicht gefunden"})]}),R=(0,x.Pi)(e=>{let{event:s,subscription:n}=e,c=i.useRef(!1),u=(0,p.k6)(),o=(0,k.ZP)("/user?user-tab=account"),b=(0,k.ZP)("/");return i.useEffect(()=>{if(!c.current)n.ignoreEvent(s.id)},[s,n,c]),(0,r.jsxs)("div",{className:(0,d.Z)(t),children:[(0,r.jsx)("h1",{children:(0,j.I)({id:"unsubscribe.title",message:"Termin Abbestellt"})}),(0,r.jsx)(N.Z,{event:s,className:(0,d.Z)(a)}),(0,r.jsxs)("div",{className:(0,d.Z)("alert alert--warning",l),role:"alert",children:[(0,r.jsx)(j.Z,{id:"unsubscribe.undo",description:"R\xfcckg\xe4ngig machen",children:"R\xfcckg\xe4ngig machen"}),(0,r.jsx)(_.ZP,{icon:v.KF,onClick:()=>{c.current=!0,n.unignoreEvent(s.id),u.push(b)}})]}),(0,r.jsx)(I.Z,{to:o,children:(0,r.jsx)(j.Z,{id:"unsubscribe.go2settings",description:"Go to the settings",children:"\uD83D\uDC49 Zu den Einstellungen"})})]})}),D=(0,x.Pi)(e=>{let{user:s}=e,n=(0,Z.oR)("subscriptionStore"),t=(0,Z.oR)("eventStore"),a=t.find(e.unsubscribedEventId);if(i.useEffect(()=>{!s.subscription&&n.create({}).then((0,f.aD)(e=>{e&&s.setSubscriptionId(e.id)}))},[s]),i.useEffect(()=>{t.loadModel(e.unsubscribedEventId)},[t]),!s.subscription)return(0,r.jsx)(m.Z,{});if(!a)return t.apiStateFor(`load-${e.unsubscribedEventId}`)===E.gQ.LOADING?(0,r.jsx)(m.Z,{}):(0,r.jsx)(P,{});return(0,r.jsx)(R,{event:a,subscription:s.subscription})}),L=(0,x.Pi)(e=>{let s=(0,p.LX)(e.path,"/unsubscribe/:eventId"),{eventId:n}=s?.params||{},i=(0,Z.oR)("userStore"),{current:t}=i;return i.current?(0,r.jsx)(D,{user:t,unsubscribedEventId:n}):(0,r.jsx)(C,{})}),y=(0,x.Pi)(()=>{let e=(0,p.TH)();return(0,r.jsx)(u.Z,{title:(0,j.I)({id:"unsubscribe.title",message:"Termin Abbestellt"}),children:(0,r.jsx)("div",{className:(0,d.Z)(c),children:(0,r.jsx)(g,{fallback:(0,r.jsx)(m.Z,{}),children:()=>(0,r.jsx)(L,{path:e.pathname})})})})})},60983:function(e,s,n){n.d(s,{Z:()=>d});var r=n("85893");n("67294");var i=n("67026");let t={loader:"loader_HaLG",left:"left_q3mi",right:"right_Uyq0",badge:"badge__2q1",overlay:"overlay_O8RU"};var a=n("8849"),l=n.n(a),c=n("55317");let d=e=>(0,r.jsxs)("div",{className:(0,i.Z)(t.loader,e.className,e.overlay&&t.overlay,e.align&&t[e.align]),title:e.title,children:[(0,r.jsx)(l(),{path:c.CEZ,spin:!0,size:e.size||1,className:t.icon}),!e.noLabel&&(0,r.jsx)("span",{className:(0,i.Z)("badge",t.badge),children:e.label||"Laden..."})]})}}]);