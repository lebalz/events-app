"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[712],{6871:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(7294),a=n(6010),r=n(8542),c=n(6363),o=n(9346);const s=e=>{const t=l.useRef(null),[n,s]=l.useState(!1),i=()=>{s(!1),document.removeEventListener("click",i)};l.useEffect((()=>()=>{document.removeEventListener("click",i)}),[]),l.useEffect((()=>{n&&t.current&&t.current.scrollIntoView({behavior:"smooth",block:"center"})}),[n,t]);const d=n?l.createElement(o.Z,{className:(0,a.Z)(r.Z.confirm,"button","button--danger"),onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},text:"Ja, L\xf6schen!"}):null;return l.createElement("span",{className:(0,a.Z)(r.Z.delete,n&&r.Z.expanded,e.className),ref:t},"left"===(e.flyoutSide??"left")&&d,l.createElement(o.Z,{className:(0,a.Z)(e.className,r.Z.delete,"right"===e.flyoutSide&&r.Z.right),title:"L\xf6schen",onClick:e=>{s(!n),document.addEventListener("click",i),e.stopPropagation(),e.preventDefault()},text:e.text,apiState:e.apiState,apiIconSize:e.apiIconSize,iconSide:e.iconSide,noOutline:e.noOutline,href:e.href,icon:l.createElement(c.pJ,{size:c.yd})}),"right"===e.flyoutSide&&d)}},3962:(e,t,n)=>{n.d(t,{Z:()=>p});var l=n(7462),a=n(7294),r=n(6010),c=n(2389),o=n(6043);const s="details_XTtI",i="isBrowser_Z1r4",d="collapsibleContent_dVni";function m(e){return!!e&&("SUMMARY"===e.tagName||m(e.parentElement))}function u(e,t){return!!e&&(e===t||u(e.parentElement,t))}const p=e=>{let{summary:t,children:n,...p}=e;const E=(0,c.Z)(),S=(0,a.useRef)(null),{collapsed:f,setCollapsed:v}=(0,o.u)({initialState:!p.open}),[Z,g]=(0,a.useState)(p.open),y=a.isValidElement(t)?t:a.createElement("summary",null,t??"Details");return a.createElement("details",(0,l.Z)({},p,{ref:S,open:Z,"data-collapsed":f,className:(0,r.Z)("alert","alert--info",s,E&&i,p.className),onMouseDown:e=>{m(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;m(t)&&u(t,S.current)&&(e.preventDefault(),f?(v(!1),g(!0)):v(!0))}}),y,a.createElement(o.z,{lazy:!0,collapsed:f,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{v(e),g(!e)}},a.createElement("div",{className:d},n)))}},9707:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var l=n(6910),a=n(7294);const r="alert_ngsb",c="spacer_O1Jd";var o=n(6010),s=n(1217),i=n(1314);const d=(0,s.Pi)((()=>{const[e,t]=(0,a.useState)(null),n=(0,i.o)("jobStore");return a.createElement("div",{className:"App"},a.createElement("form",null,a.createElement("input",{className:(0,o.Z)("button","button--secondary"),type:"file",name:"terminplan",accept:".xlsx",style:{marginBottom:"12px"},onChange:e=>t(e.currentTarget.files[0])}),a.createElement("div",{className:(0,o.Z)("button","button--secondary"),onClick:()=>{if(!e)throw"No file was selected";n.importExcel(e)}},"Upload")))}));var m=n(1921),u=n(6871),p=n(3962),E=n(814);const S={[m.Z.PENDING]:"\ud83c\udfc3",[m.Z.DONE]:"\u2705",[m.Z.ERROR]:"\u274c"},f=(0,s.Pi)((()=>{const e=(0,i.o)("untisStore"),t=(0,i.o)("jobStore");return a.createElement(l.Z,null,a.createElement("div",null,a.createElement(d,null)),a.createElement("div",null,t.models.map(((e,n)=>a.createElement(p.Z,{key:n,summary:a.createElement("summary",{className:(0,o.Z)(r)},e.type===m.O.SYNC_UNTIS&&`${S[e.state]} Sync Untis: ${e.createdAt.toLocaleString()}-${e.updatedAt.toLocaleTimeString()}`,e.type===m.O.IMPORT&&`${S[e.state]} Import....: ${e.createdAt.toLocaleString()}-${e.updatedAt.toLocaleTimeString()} -> ${e.events.length}`,a.createElement("div",{className:(0,o.Z)(c)}),a.createElement(u.Z,{onClick:()=>{t.destroy(e)},apiState:t.apiStateFor(`destroy-${e.id}`)}))},a.createElement("div",null,a.createElement("div",null,a.createElement("dl",null,a.createElement("dt",null,"Id"),a.createElement("dd",null,e.id),a.createElement("dt",null,"State"),a.createElement("dd",null,e.state),a.createElement("dt",null,"Filename"),a.createElement("dd",null,e.filename),a.createElement("dt",null,"Events"),a.createElement("dd",null,e.events.length),a.createElement("dt",null,"Created At"),a.createElement("dd",null,e.createdAt.toLocaleString()),a.createElement("dt",null,"Updated At"),a.createElement("dd",null,e.updatedAt.toLocaleString()))),a.createElement(E.Z,{language:"json",title:"log.json"},e.fLog)))))),a.createElement("div",{className:(0,o.Z)("button","button--primary"),onClick:()=>{console.log("Sync Untis"),e.sync()}},"Sync Untis"))}))}}]);