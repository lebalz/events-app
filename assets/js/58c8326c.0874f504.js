"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[712],{6871:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(7462),a=n(7294),r=n(6010),c=n(8542),o=n(6363),s=n(9346);const i=e=>{const t=a.useRef(null),[n,i]=a.useState(!1),m=()=>{i(!1),document.removeEventListener("click",m)};a.useEffect((()=>()=>{document.removeEventListener("click",m)}),[]),a.useEffect((()=>{n&&t.current&&t.current.scrollIntoView({behavior:"smooth",block:"center"})}),[n,t]);const d=n?a.createElement(s.Z,{className:(0,r.Z)(c.Z.confirm,"button","button--danger"),onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},text:"Ja, L\xf6schen!"}):null;return a.createElement("span",{className:(0,r.Z)(c.Z.delete,n&&c.Z.expanded,e.className),ref:t},"left"===(e.flyoutSide??"left")&&d,a.createElement(s.Z,(0,l.Z)({},(0,s.g)(e),{className:(0,r.Z)(e.className,c.Z.delete,"right"===e.flyoutSide&&c.Z.right),title:"L\xf6schen",onClick:e=>{i(!n),document.addEventListener("click",m),e.stopPropagation(),e.preventDefault()},icon:a.createElement(o.pJ,{size:o.yd})})),"right"===e.flyoutSide&&d)}},3962:(e,t,n)=>{n.d(t,{Z:()=>p});var l=n(7462),a=n(7294),r=n(6010),c=n(2389),o=n(6043);const s="details_XTtI",i="isBrowser_Z1r4",m="collapsibleContent_dVni";function d(e){return!!e&&("SUMMARY"===e.tagName||d(e.parentElement))}function u(e,t){return!!e&&(e===t||u(e.parentElement,t))}const p=e=>{let{summary:t,children:n,...p}=e;const E=(0,c.Z)(),f=(0,a.useRef)(null),{collapsed:v,setCollapsed:Z}=(0,o.u)({initialState:!p.open}),[g,S]=(0,a.useState)(p.open),y=a.isValidElement(t)?t:a.createElement("summary",null,t??"Details");return a.createElement("details",(0,l.Z)({},p,{ref:f,open:g,"data-collapsed":v,className:(0,r.Z)("alert","alert--info",s,E&&i,p.className),onMouseDown:e=>{d(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;d(t)&&u(t,f.current)&&(e.preventDefault(),v?(Z(!1),S(!0)):Z(!0))}}),y,a.createElement(o.z,{lazy:!0,collapsed:v,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{Z(e),S(!e)}},a.createElement("div",{className:m},n)))}},9707:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var l=n(6910),a=n(7294);const r="alert_ngsb",c="spacer_O1Jd";var o=n(6010),s=n(1217),i=n(1314);const m=(0,s.Pi)((()=>{const[e,t]=(0,a.useState)(null),n=(0,i.o)("jobStore");return a.createElement("div",{className:"App"},a.createElement("form",null,a.createElement("input",{className:(0,o.Z)("button","button--secondary"),type:"file",name:"terminplan",accept:".xlsx",style:{marginBottom:"12px"},onChange:e=>t(e.currentTarget.files[0])}),a.createElement("div",{className:(0,o.Z)("button","button--secondary"),onClick:()=>{if(!e)throw"No file was selected";n.importExcel(e)}},"Upload")))}));var d=n(1921),u=n(6871),p=n(3962),E=n(814);const f={[d.Z.PENDING]:"\ud83c\udfc3",[d.Z.DONE]:"\u2705",[d.Z.ERROR]:"\u274c"},v=(0,s.Pi)((()=>{const e=(0,i.o)("untisStore"),t=(0,i.o)("jobStore");return a.createElement(l.Z,null,a.createElement("div",null,a.createElement(m,null)),a.createElement("div",null,t.models.map(((e,n)=>a.createElement(p.Z,{key:n,summary:a.createElement("summary",{className:(0,o.Z)(r)},e.type===d.O.SYNC_UNTIS&&`${f[e.state]} Sync Untis: ${e.createdAt.toLocaleString()}-${e.updatedAt.toLocaleTimeString()}`,e.type===d.O.IMPORT&&`${f[e.state]} Import....: ${e.createdAt.toLocaleString()}-${e.updatedAt.toLocaleTimeString()} -> ${e.events.length}`,a.createElement("div",{className:(0,o.Z)(c)}),a.createElement(u.Z,{onClick:()=>{t.destroy(e)},apiState:t.apiStateFor(`destroy-${e.id}`)}))},a.createElement("div",null,a.createElement("div",null,a.createElement("dl",null,a.createElement("dt",null,"Id"),a.createElement("dd",null,e.id),a.createElement("dt",null,"State"),a.createElement("dd",null,e.state),a.createElement("dt",null,"Filename"),a.createElement("dd",null,e.filename),a.createElement("dt",null,"Events"),a.createElement("dd",null,e.events.length),a.createElement("dt",null,"Created At"),a.createElement("dd",null,e.createdAt.toLocaleString()),a.createElement("dt",null,"Updated At"),a.createElement("dd",null,e.updatedAt.toLocaleString()))),a.createElement(E.Z,{language:"json",title:"log.json"},e.fLog)))))),a.createElement("div",{className:(0,o.Z)("button","button--primary"),onClick:()=>{console.log("Sync Untis"),e.sync()}},"Sync Untis"))}))}}]);