"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[712],{6821:(e,t,l)=>{l.d(t,{Z:()=>N});var n=l(7294),a=l(6010);const s="bulk_BjmH",r="stateActions_Zpyz",c="success_BGHQ",i="revoke_V7Y_",o="blue_xNLm";var d=l(6670),m=l(1314),u=l(9372),E=l(6871),v=l(8949),p=l(7476),Z=l(9346),g=l(5317),h=l(6363),y=l(8106),b=l(3157);const N=(0,d.Pi)((e=>{const{events:t}=e,l=(0,m.oR)("userStore"),d=(0,m.oR)("eventStore"),N=(0,m.oR)("userEventGroupStore"),{current:f}=l;if(t.length<1)return null;const C=t[0]?.state,S=t.every((e=>e.state===C)),k=t.every((e=>e.isValid)),_=t.every((e=>e.authorId===f.id));return n.createElement("div",{className:(0,a.Z)(s)},n.createElement(u.Z,{text:`${t.length}`,color:"blue"}),S&&n.createElement("div",{className:(0,a.Z)(r)},C===p.he.Draft&&k&&n.createElement(Z.Z,{text:"Request Review",icon:n.createElement(h.JO,{path:g.UPM,color:"blue"}),className:(0,a.Z)(o),iconSide:"left",onClick:()=>{d.requestState(t.map((e=>e.id)),p.he.Review)}}),C===p.he.Review&&n.createElement(n.Fragment,null,n.createElement(Z.Z,{text:"Bearbeiten",icon:n.createElement(h.JO,{path:g.DZz,color:"blue"}),className:(0,a.Z)(o),iconSide:"left",onClick:()=>{d.requestState(t.map((e=>e.id)),p.he.Draft)}}),l.current?.role===y.uU.ADMIN&&n.createElement(n.Fragment,null,n.createElement(Z.Z,{text:"Publish",icon:n.createElement(h.JO,{path:g.wo$,color:"green"}),iconSide:"left",className:(0,a.Z)(c),onClick:()=>{d.requestState(t.map((e=>e.id)),p.he.Published)}}),n.createElement(Z.Z,{text:"Refuse",icon:n.createElement(h.JO,{path:g.Tsh,color:"orange"}),iconSide:"left",className:(0,a.Z)(i),onClick:()=>{d.requestState(t.map((e=>e.id)),p.he.Refused)}})))),_&&n.createElement(n.Fragment,null,n.createElement(Z.Z,{text:"Neue Gruppe",icon:g.fr_,iconSide:"left",onClick:(0,v.aD)((()=>{const e=t.map((e=>e.id));N.create({event_ids:e,name:"Neue Gruppe"})}))}),n.createElement(b.ZP,{isMulti:!1,isSearchable:!0,isClearable:!0,onChange:e=>{t.forEach((t=>{t.update({userGroupId:e?.value??null}),t.save()}))},options:N.userEventGroups.map((e=>({value:e.id,label:e.name}))),value:t.every((e=>e.userGroupId===t[0].userGroupId))?{value:t[0]?.userGroupId,label:t[0]?.userGroup?.name}:void 0})),_&&n.createElement(E.Z,{onClick:(0,v.aD)((()=>{t.forEach((e=>e.destroy()))}))}))}))},7161:(e,t,l)=>{l.d(t,{Z:()=>V});var n=l(7294),a=l(6010),s=l(6670),r=l(4701),c=l(5981),i=l(3182),o=l(3335),d=l(9346),m=l(5317),u=l(6363),E=l(2624),v=l(1687),p=l(6871),Z=l(4655),g=l(1314),h=l(7524);const y=(0,s.Pi)((e=>{const{event:t,styles:l}=e,s=(0,g.oR)("viewStore"),r=(0,h.i)();return n.createElement("div",{style:{gridColumn:"actions"},className:(0,a.Z)(e.className,l.actions,"grid-actions")},n.createElement("div",{className:(0,a.Z)(l.flex)},n.createElement(d.Z,{title:"\xdcbersicht \xd6ffnen",icon:n.createElement(u.JO,{path:m.l1h,color:"blue",size:u.yd}),onClick:()=>s.setEventModalId(t.id)}),t.isEditable&&!t.isEditing&&n.createElement(Z.Z,{onClick:()=>{t.setEditing(!0),"mobile"===r&&s.setEventModalId(t.id)}}),t.isEditing&&n.createElement(n.Fragment,null,n.createElement(E.Z,{onClick:()=>t.reset()}),n.createElement(v.Z,{disabled:!t.isDirty,onClick:()=>t.save(),apiState:t.apiStateFor(`save-${t.id}`)}),n.createElement(p.Z,{onClick:()=>t.destroy(),apiState:t.apiStateFor(`destroy-${t.id}`)}))),n.createElement("div",{className:(0,a.Z)(l.expand)},e.expandeable&&t.isExpanded&&!t.isEditing&&n.createElement(d.Z,{icon:m.vnu,onClick:()=>t.setExpanded(!1),size:u.yd})))}));var b=l(7746),N=l(5842),f=l(4752),C=l(7989);const S=(0,s.Pi)((e=>{const{event:t,styles:l}=e;return n.createElement("div",{"data-id":t.id,style:{gridColumn:"select"},className:(0,a.Z)("grid-select",l.select,e.className)},n.createElement(C.Z,{checked:t.selected,onChange:e.onSelect}))}));var k=l(9372);const _=(0,s.Pi)((e=>{const{styles:t,onClick:l}=e;return n.createElement("div",{style:{gridColumn:"author"},className:(0,a.Z)("author",t.author,e.className,"grid-author"),onClick:l},n.createElement(k.Z,{text:(e.event.author?.shortName||e.event.author?.email)??"-"}))})),x=(0,s.Pi)((e=>{const{styles:t,onClick:l}=e;return n.createElement("div",{style:{gridColumn:"isValid"},className:(0,a.Z)("isValid",t.isValid,e.className,"grid-isValid"),onClick:l},e.event.isValid?"":"\u274c")}));var w=l(8414);const G=(0,s.Pi)((e=>{const{event:t,styles:l,onClick:s}=e;return n.createElement("div",{style:{gridColumn:"userGroup"},className:(0,a.Z)(e.className,l.userGroup),onClick:s},n.createElement("div",{className:(0,a.Z)(l.tags)},t.hasUserGroup&&n.createElement(k.Z,{text:t.userGroup?.name,color:"blue"})))})),D=(0,s.Pi)((e=>{const t=(0,g.oR)("viewStore"),l=(0,h.i)(),{event:s,styles:d}=e,m="desktop"===l?e=>{e.ctrlKey||e.metaKey?t.setEventModalId(s.id):e.shiftKey&&s.isEditable?s.setEditing(!0):s.setExpanded(!0)}:()=>t.setEventModalId(s.id),u=(0,a.W)(d.cell,s.isExpanded?d.expanded:d.collapsed,e.rowIndex%2==0?d.even:d.odd,s.isDeleted&&d.deleted);return n.createElement(n.Fragment,null,n.createElement(w.Z,{event:s,styles:d,className:(0,a.W)(u),expandeable:!0,onClick:m}),n.createElement(x,{event:s,styles:d,className:(0,a.W)(u),expandeable:!0,onClick:m}),n.createElement(S,{event:s,styles:d,className:(0,a.W)(u),onSelect:e.onSelect,expandeable:!0,onClick:m}),n.createElement(r.Z,{event:s,styles:d,className:(0,a.W)(u),expandeable:!0,onClick:m}),n.createElement(_,{event:s,styles:d,className:(0,a.W)(u),expandeable:!0,onClick:m}),n.createElement(c.Z,{event:s,styles:d,className:(0,a.W)(u),expandeable:!0,onClick:m}),n.createElement(i.Z,{event:s,styles:d,className:(0,a.W)(u),isEditable:!0,expandeable:!0,onClick:m}),n.createElement(b.Z,{event:s,styles:d,time:"start",className:(0,a.W)(u),isEditable:!0,expandeable:!0,onClick:m}),n.createElement(b.Z,{event:s,styles:d,time:"end",className:(0,a.W)(u),isEditable:!0,expandeable:!0,onClick:m}),n.createElement(N.Z,{event:s,styles:d,className:(0,a.W)(u),isEditable:!0,expandeable:!0,onClick:m}),n.createElement(G,{event:s,styles:d,className:(0,a.W)(u),isEditable:!0,expandeable:!0,onClick:m}),n.createElement(f.Z,{event:s,styles:d,className:(0,a.W)(u),isEditable:!0,expandeable:!0,onClick:m,isEditGrid:e.isEditGrid}),n.createElement(o.Z,{event:s,styles:d,className:(0,a.W)(u),isEditable:!0,expandeable:!0,onClick:m}),n.createElement(y,{event:s,styles:d,className:(0,a.W)(u),expandeable:!0}))})),T={fullscreenContainer:"fullscreenContainer_XzvQ",scroll:"scroll_fHIY",editable:"editable_QIou",grid:"grid_zwcG",overview:"overview_Sfc0",cell:"cell__bO4",eventGroup:"eventGroup_am2M",collapsed:"collapsed_MEvm",odd:"odd_GbvC",header:"header_VdAS",deleted:"deleted_u3zH",error:"error_AnvY",errorMessage:"errorMessage_YHmy",active:"active_dFee",currentWeek:"currentWeek_pwnW",select:"select_mMwb",isValid:"isValid_lfGG",state:"state_xsxE",kw:"kw_H3LE",author:"author_Zkld",day:"day_eb3c",value:"value_qbeG",startDate:"startDate_gd4N",startTime:"startTime_h0ab",isAllDay:"isAllDay_DrQg",endDate:"endDate_Zl2O",onOneDay:"onOneDay_sYXr",endTime:"endTime_tq1S",dateTime:"dateTime_Un0t",start:"start_rRtq",end:"end_rakJ",description:"description_w0pZ",location:"location_u93B",departments:"departments_FCzu",editGrid:"editGrid_PLcm",userGroup:"userGroup_YJEv",tags:"tags_D9e9",expanded:"expanded_JJNE",classes:"classes_PTiX",audience:"audience_FT7J",descriptionLong:"descriptionLong_Gfm1",actions:"actions_dKMT",flex:"flex_ysoa",gym:"gym_fv4P",fms:"fms_hlM3",ecg:"ecg_qBDF",esc:"esc_c5be",fmpaed:"fmpaed_FkpK",msop:"msop_JBvH",wms:"wms_AKA_",expand:"expand_f2nL"},I="grid_ZT5c",R="grid_tz9R",W="grid_nokp";var P=l(8517),O=l(5999);const F=(0,s.Pi)((e=>{const t=(0,g.oR)("viewStore"),l=(0,a.W)(T.cell,T.header);return n.createElement(n.Fragment,null,n.createElement("div",{style:{gridColumn:"isValid"},className:(0,a.W)(l,T.isValid)}),n.createElement("div",{style:{gridColumn:"state"},className:(0,a.W)(l,T.state)}),n.createElement("div",{style:{gridColumn:"select"},className:(0,a.W)(l,T.select)},n.createElement(C.Z,{checked:e.checked,onChange:t=>e.onSelectAll(t),partialChecked:e.partialChecked})),n.createElement("div",{style:{gridColumn:"author"},className:(0,a.W)(l,T.author)},n.createElement(O.Z,{id:"event.eventGrid.th.author",description:"th: author"},"Author")),n.createElement("div",{style:{gridColumn:"kw"},className:(0,a.W)(l,T.kw)},n.createElement(O.Z,{id:"event.eventGrid.th.kw",description:"th: kw"},"KW")),n.createElement("div",{style:{gridColumn:"day"},className:(0,a.W)(l,T.day)},n.createElement(O.Z,{id:"event.eventGrid.th.day",description:"th: day"},"Tag")),n.createElement("div",{style:{gridColumn:"description"},className:(0,a.W)(l,T.description)},n.createElement(O.Z,{id:"event.eventGrid.th.description",description:"th: description"},"Stichworte")),n.createElement("div",{style:{gridColumn:"startDate"},className:(0,a.W)(l,T.startDate)},n.createElement(O.Z,{id:"event.eventGrid.th.startDate",description:"th: startDate"},"Start")),n.createElement("div",{style:{gridColumn:"startTime"},className:(0,a.W)(l,T.startTime)},n.createElement(O.Z,{id:"event.eventGrid.th.startTime",description:"th: startTime"},"Zeit")),n.createElement("div",{style:{gridColumn:"endDate"},className:(0,a.W)(l,T.endDate)},n.createElement(O.Z,{id:"event.eventGrid.th.endDate",description:"th: endDate"},"Ende")),n.createElement("div",{style:{gridColumn:"endTime"},className:(0,a.W)(l,T.endTime)},n.createElement(O.Z,{id:"event.eventGrid.th.endTime",description:"th: endTime"},"Zeit")),n.createElement("div",{style:{gridColumn:"location"},className:(0,a.W)(l,T.location)},n.createElement(O.Z,{id:"event.eventGrid.th.location",description:"th: location"},"Ort")),n.createElement("div",{style:{gridColumn:"userGroup"},className:(0,a.W)(l,T.userGroup)},n.createElement(O.Z,{id:"event.eventGrid.th.userGroup",description:"th: userGroup"},"Gruppe")),n.createElement("div",{style:{gridColumn:"departments"},className:(0,a.W)(l,T.departments,e.isEditGrid&&T.editGrid)},n.createElement(O.Z,{id:"event.eventGrid.th.departments",description:"th: departments"},"Abteilungen")),n.createElement("div",{style:{gridColumn:"classes"},className:(0,a.W)(l,T.classes,e.isEditGrid&&T.editGrid)},n.createElement(O.Z,{id:"event.eventGrid.th.classes",description:"th: classes"},"Klassen")),n.createElement("div",{style:{gridColumn:"descriptionLong"},className:(0,a.W)(l,T.descriptionLong)},n.createElement(O.Z,{id:"event.eventGrid.th.descriptionLong",description:"th: descriptionLong"},"Beschreibung")),n.createElement("div",{style:{gridColumn:"actions"},className:(0,a.W)(l,T.actions)},n.createElement(u.JO,{path:m.cl8,size:u.yd}),t.fullscreen&&n.createElement("div",{className:(0,a.W)(T.navbar)},n.createElement("div",{className:(0,a.W)(T.button)},n.createElement(P.Z,null)))))}));var z=l(8949);const L={filter:"filter_qD68",department:"department_YuWS",date:"date_bdzb"};var A=l(1923);const M=(0,s.Pi)((e=>{const t=(0,g.oR)("viewStore"),l=(0,g.oR)("departmentStore"),{eventTable:s}=t;return n.createElement("div",{className:(0,a.Z)(L.filter)},n.createElement("div",{className:(0,a.Z)(L.audience)},n.createElement(d.Z,{text:"Meine",active:s.onlyMine,color:"blue",onClick:()=>s.toggleOnlyMine()})),n.createElement("div",{className:(0,a.Z)(L.department,"button-group","button-group--block")},l.usedDepartments.map((e=>n.createElement(d.Z,{text:e.name,active:s.departmentIds.has(e.id),onClick:()=>s.toggleDepartment(e),color:"blue",key:e.id})))),n.createElement("div",{className:(0,a.Z)(L.classes)},n.createElement(A.Z,{onChange:e=>s.setClassFilter(e),text:s.klassFilter})))}));var j=l(6330);const J=(0,j.wS)(new Date),B=(0,s.Pi)((e=>{const[t,l]=n.useState(!1),s=n.useRef(null),r=(0,g.RO)(s,".event-grid","0% 30px 0% 30px"),c=(0,g.oR)("viewStore");n.useEffect((()=>{r&&l(!0)}),[r]);const i=e.kw===J;return n.createElement(n.Fragment,null,n.createElement("div",{className:(0,a.Z)(T.eventGroup,e.className,c.eventTable.activeGroup===e.id&&T.active,i&&T.currentWeek),style:{height:t?void 0:35*e.events.length+"px",gridColumnStart:"gridStart",gridColumnEnd:"gridEnd"},ref:s,id:(0,a.Z)(i&&"current-week"),onClick:()=>{c.eventTable.activeGroup?(c.eventTable.setActiveGroup(null),setTimeout((()=>{s.current&&(s.current.scrollIntoView({block:"start"}),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),2300))}),0)):c.eventTable.setActiveGroup(e.id)}},e.content),t&&e.events.map(((t,l)=>n.createElement(D,{styles:T,key:t.id,rowIndex:l,event:t,onSelect:e.selectable?(0,z.aD)(((n,a)=>{if(a){const t=e.events.slice(0,l).findLastIndex((e=>e.selected));t>-1&&e.events.slice(t,l).forEach((e=>e.setSelected(n)))}t.setSelected(n)})):void 0}))))})),V=(0,s.Pi)((e=>{const t=n.useRef(null),l=(0,g.oR)("viewStore");n.useEffect((()=>{const t=l.fullscreen;return l.setShowFullscreenButton(e.showFullscreenButton??!0),()=>l.setShowFullscreenButton(t)}),[]),n.useEffect((()=>(0,z.U5)((()=>l.fullscreen),(e=>{e?t.current?.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()}))),[]),n.useEffect((()=>{const e=()=>{!!document.fullscreenElement!==l.fullscreen&&l.setFullscreen(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[]),n.useEffect((()=>{const e=document.querySelector("#current-week");if(e){e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});const t=setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),1e3);return()=>clearTimeout(t)}}),[e.events,e.scrollToCurrent]);const s=e.events.reduce(((e,t)=>{const l=t.kw;return e[l]||(e[l]=[]),e[l].push(t),e}),{});let r=e.gridConfig??I;e.gridConfig||(e.selectable&&e.showAuthor?r=W:e.selectable?r=R:e.showAuthor&&(r=W));const c=e.events.some((e=>e.isEditable)),i=c&&e.events.some((e=>e.isEditing));return n.createElement("div",{className:(0,a.Z)(l.fullscreen&&T.fullscreenContainer),ref:t},n.createElement("div",{className:(0,a.Z)(T.scroll,c&&T.editable,"event-grid")},e.showFilter&&n.createElement(M,null),n.createElement("div",{className:(0,a.Z)(T.grid,r,e.groupBy&&l.eventTable.activeGroup&&T.overview,e.selectable&&T.selectable,e.showAuthor&&T.showAuthor)},n.createElement(F,{onSelectAll:e.selectable?(0,z.aD)((t=>e.events.forEach((e=>e.setSelected(t))))):void 0,checked:e.events.length>0&&e.events.every((e=>e.selected)),partialChecked:e.events.some((e=>e.selected)),isEditGrid:i}),e.groupBy?Object.entries(s).map((t=>{let[l,a]=t;return n.createElement(B,{events:a,key:l,selectable:e.selectable,kw:Number.parseInt(l,10),id:`KW ${l}`,content:n.createElement(n.Fragment,null,n.createElement("span",null,"KW ",l),n.createElement("span",{style:{textAlign:"center"}},(0,j.p6)(a[0].weekStart)," - ",(0,j.p6)(a[0].weekEnd)))})})):e.events.map(((t,l)=>n.createElement(D,{styles:T,key:t.id,rowIndex:l,event:t,isEditGrid:i,onSelect:e.selectable?(0,z.aD)(((n,a)=>{if(a){const t=e.events.slice(0,l).findLastIndex((e=>e.selected));t>-1&&e.events.slice(t,l).forEach((e=>e.setSelected(n)))}t.setSelected(n)})):void 0}))))))}))},3820:(e,t,l)=>{l.d(t,{Z:()=>m});var n=l(7294),a=l(6010);const s="dropArea__uqL";var r=l(6670),c=l(1314),i=l(9346),o=l(5317),d=l(6363);const m=(0,r.Pi)((()=>{const[e,t]=(0,n.useState)(null),[l,r]=(0,n.useState)(1),m=(0,c.oR)("jobStore");return n.createElement("label",{className:(0,a.Z)(s),htmlFor:"excel-import"},n.createElement("input",{className:(0,a.Z)("button","button--secondary"),key:l,type:"file",id:"excel-import",name:"terminplan",accept:".xlsx",style:{marginBottom:"12px"},multiple:!1,onChange:e=>t(e.currentTarget.files[0])}),n.createElement(i.Z,{text:"Upload",title:"Importiere Excel-Datei",disabled:!e,color:"primary",onClick:n=>{if(n.preventDefault(),n.stopPropagation(),!e)throw"No file was selected";return m.importExcel(e),t(null),r(l+1),!1},icon:n.createElement(d.JO,{path:o.weJ,size:d.yd})}))}))},7199:(e,t,l)=>{l.d(t,{Z:()=>p});var n=l(7294),a=l(6670),s=l(6093),r=l(1921),c=l(614),i=l(1314),o=l(3962),d=l(6871),m=l(6821),u=l(7161),E=l(9262);const v=(0,a.Pi)((e=>{const t=(0,i.oR)("jobStore"),{job:l}=e;return n.createElement(o.Z,{summary:n.createElement("summary",null,e.summary??`${l.user?.email} - ${l.filename||"|"} - ${l.state} - ${l.events.length}`)},n.createElement("div",null,n.createElement(d.Z,{onClick:()=>{t.destroy(l)},text:"Job L\xf6schen",flyoutSide:"right",iconSide:"right",apiState:t.apiStateFor(`destroy-${l.id}`)}),n.createElement(m.Z,{events:l.events.filter((e=>e.selected))}),n.createElement(u.Z,{events:l.events,showFullscreenButton:!1,gridConfig:E.Z.grid,selectable:!0})))})),p=(0,a.Pi)((e=>{const{job:t}=e;return n.createElement("div",null,n.createElement("div",null,n.createElement(s.Z,null,n.createElement("dt",null,"Id"),n.createElement("dd",null,t.id),n.createElement("dt",null,"State"),n.createElement("dd",null,t.state),t.type===r.O.IMPORT&&n.createElement(n.Fragment,null,n.createElement("dt",null,"Filename"),n.createElement("dd",null,t.filename),n.createElement("dt",null,"Events"),n.createElement("dd",null,t.events.length)),t.type===r.O.SYNC_UNTIS&&n.createElement(n.Fragment,null,n.createElement("dt",null,"Sync Date"),n.createElement("dd",null,t.fSyncDate)),n.createElement("dt",null,"Created At"),n.createElement("dd",null,t.createdAt.toLocaleString()),n.createElement("dt",null,"Updated At"),n.createElement("dd",null,t.updatedAt.toLocaleString()))),t.fLog.length>0&&n.createElement(c.Z,{language:"json",title:"log.json"},t.fLog),t.type===r.O.IMPORT&&t.events.length>0&&n.createElement(v,{job:t}))}))},2375:(e,t,l)=>{l.d(t,{K:()=>f,S:()=>C});var n=l(7294),a=l(6010),s=l(4928),r=l(6670),c=l(1314),i=l(1921),o=l(7462),d=l(2323),m=l(6363),u=l(9372);const E=e=>n.createElement(u.Z,(0,o.Z)({title:"Erfolgreich"},(0,u.g)(e),{className:(0,a.Z)(d.Z.save,e.className),icon:n.createElement(m.fB,{size:e.size??m.yd,disabled:e.disabled})})),v=e=>n.createElement(u.Z,(0,o.Z)({title:"Fehler"},(0,u.g)(e),{className:(0,a.Z)(d.Z.save,e.className),icon:n.createElement(m.jj,{size:e.size??m.yd,disabled:e.disabled})})),p=e=>n.createElement(u.Z,(0,o.Z)({title:"Laden"},(0,u.g)(e),{className:(0,a.Z)(d.Z.load,e.className),icon:n.createElement(m.gb,{size:e.size??m.yd,disabled:e.disabled})})),Z=e=>{const t=e.text&&("string"==typeof e.text?e.text:e.text[e.state]),l=e.title&&("string"==typeof e.title?e.title:e.title[e.state]);switch(e.state){case"success":return n.createElement(E,(0,o.Z)({},e,{text:t,title:l}));case"error":return n.createElement(v,(0,o.Z)({},e,{text:t,title:l}));case"loading":return n.createElement(p,(0,o.Z)({},e,{text:t,title:l}))}};var g=l(9346),h=l(6871);const y={[i.Z.PENDING]:"loading",[i.Z.DONE]:"success",[i.Z.ERROR]:"error",[i.Z.REVERTED]:"loading"},b={[i.O.SYNC_UNTIS]:"Sync Untis",[i.O.IMPORT]:"Import",[i.O.CLONE]:"Klonen"},N={[i.O.SYNC_UNTIS]:"orange",[i.O.IMPORT]:"blue",[i.O.CLONE]:"lightBlue"},f=(0,r.Pi)((e=>{const{job:t}=e;return n.createElement("summary",{className:(0,a.Z)(s.Z.summary)},n.createElement(Z,{state:y[t.state],size:m.yd}),n.createElement(u.Z,{text:b[t.type],color:N[t.type]}),n.createElement(u.Z,{text:t.createdAt.toLocaleDateString()}),n.createElement("div",{className:(0,a.Z)(s.Z.spacer)}),t.type===i.O.IMPORT&&n.createElement(u.Z,{text:`${t.events.length}`,color:"blue"}),n.createElement("div",{className:(0,a.Z)(s.Z.spacer)}),n.createElement(h.Z,{onClick:()=>{t.destroy()},apiState:t.apiState(`destroy-${t.id}`),disabled:t.state===i.Z.PENDING}))})),C=(0,r.Pi)((e=>{const t=(0,c.oR)("semesterStore"),l=(0,c.oR)("jobStore"),{job:r}=e,o=(l.bySemester(r.semesterId)||[]).some((e=>e.state===i.Z.PENDING));return n.createElement("summary",{className:(0,a.Z)(s.Z.summary)},n.createElement(Z,{state:y[r.state],size:m.yd,disabled:!r.isInSync}),n.createElement(u.Z,{text:b[r.type],color:N[r.type],disabled:!r.isInSync}),n.createElement(u.Z,{text:`Sync: ${r.createdAt.toLocaleDateString()}`}),n.createElement("div",{className:(0,a.Z)(s.Z.spacer)}),n.createElement(u.Z,{color:"blue",className:(0,a.Z)(s.Z.semester)},r.semester?.name," ",n.createElement("span",{className:(0,a.Z)(s.Z.small)},r.fSyncDate)),n.createElement("div",{className:(0,a.Z)(s.Z.spacer)}),r.isLatest&&n.createElement(g.Z,{disabled:l.hasPendingSyncJobs,onClick:e=>(e.preventDefault(),e.stopPropagation(),r.semester&&t.syncUntis(r.semester),!1),text:"Sync Untis",icon:n.createElement(m.fo,{spin:o}),color:r.isInSync?"primary":"black"}))}))},2467:(e,t,l)=>{l.d(t,{Z:()=>u});var n=l(7294),a=l(6010),s=l(4928),r=l(6670),c=l(3962),i=l(2375),o=l(7199),d=l(1921);const m=(0,r.Pi)((e=>{const{job:t}=e;switch(t.type){case d.O.IMPORT:return n.createElement(i.K,{job:t});case d.O.SYNC_UNTIS:return n.createElement(i.S,{job:t})}return null})),u=(0,r.Pi)((e=>{const{job:t}=e;return n.createElement(c.Z,{className:(0,a.Z)(s.Z.details),summary:n.createElement(m,{job:t})},n.createElement(o.Z,{job:t}))}))},6871:(e,t,l)=>{l.d(t,{Z:()=>o});var n=l(7462),a=l(7294),s=l(6010),r=l(8542),c=l(6363),i=l(9346);const o=e=>{const t=a.useRef(null),[l,o]=a.useState(!1),d=()=>{o(!1),document.removeEventListener("click",d)};a.useEffect((()=>()=>{document.removeEventListener("click",d)}),[]),a.useEffect((()=>{l&&t.current&&t.current.scrollIntoView({behavior:"smooth",block:"center"})}),[l,t]);const m=l?a.createElement(i.Z,{className:(0,s.Z)(r.Z.confirm),color:"red",onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},text:"Ja"}):null;return a.createElement("span",{className:(0,s.Z)(r.Z.delete,l&&r.Z.expanded,e.className),ref:t},"left"===(e.flyoutSide??"left")&&m,a.createElement(i.Z,(0,n.Z)({title:"L\xf6schen"},(0,i.g)(e),{className:(0,s.Z)(e.className,r.Z.delete,"right"===e.flyoutSide&&r.Z.right,e.className),onClick:e=>{o(!l),document.addEventListener("click",d),e.stopPropagation(),e.preventDefault()},color:"red",icon:a.createElement(c.pJ,{size:e.size??c.yd})})),"right"===e.flyoutSide&&m)}},2624:(e,t,l)=>{l.d(t,{Z:()=>o});var n=l(7462),a=l(7294),s=l(6010),r=l(8542),c=l(6363),i=l(9346);const o=e=>a.createElement(i.Z,(0,n.Z)({title:"\xc4nderungen verwerfen"},(0,i.g)(e),{className:(0,s.Z)(r.Z.discard,"button--sm",e.className),color:"secondary",onClick:e.onClick,icon:a.createElement(c.wq,{size:e.size??c.yd})}))},4655:(e,t,l)=>{l.d(t,{Z:()=>o});var n=l(7462),a=l(7294),s=l(6010),r=l(8542),c=l(6363),i=l(9346);const o=e=>a.createElement(i.Z,(0,n.Z)({title:"Bearbeiten"},(0,i.g)(e),{className:(0,s.Z)(r.Z.edit,e.className),color:"orange",onClick:e.onClick,icon:a.createElement(c.dY,{size:e.size??c.yd})}))},1687:(e,t,l)=>{l.d(t,{Z:()=>o});var n=l(7462),a=l(7294),s=l(6010),r=l(8542),c=l(6363),i=l(9346);const o=e=>a.createElement(i.Z,(0,n.Z)({title:"Speichern"},(0,i.g)(e),{className:(0,s.Z)(r.Z.save,e.className),color:"green",onClick:e.onClick,icon:a.createElement(c.N,{size:e.size??c.yd,disabled:e.disabled})}))},3962:(e,t,l)=>{l.d(t,{Z:()=>E});var n=l(7462),a=l(7294),s=l(6010),r=l(2389),c=l(6043);const i="details_XTtI",o="isBrowser_Z1r4",d="collapsibleContent_dVni";function m(e){return!!e&&("SUMMARY"===e.tagName||m(e.parentElement))}function u(e,t){return!!e&&(e===t||u(e.parentElement,t))}const E=e=>{let{summary:t,children:l,...E}=e;const v=(0,r.Z)(),p=(0,a.useRef)(null),{collapsed:Z,setCollapsed:g}=(0,c.u)({initialState:!E.open}),[h,y]=(0,a.useState)(E.open),b=a.isValidElement(t)?t:a.createElement("summary",null,t??"Details");return a.createElement("details",(0,n.Z)({},E,{ref:p,open:h,"data-collapsed":Z,className:(0,s.Z)("alert","alert--info",i,v&&o,E.className),onMouseDown:e=>{m(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;m(t)&&u(t,p.current)&&(e.preventDefault(),Z?(g(!1),y(!0)):g(!0))}}),b,a.createElement(c.z,{lazy:!0,collapsed:Z,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{g(e),y(!e)}},a.createElement("div",{className:d},l)))}},1243:(e,t,l)=>{l.d(t,{Z:()=>r});var n=l(7294),a=l(6010);const s="section_Ytos";const r=(0,l(6670).Pi)((e=>n.createElement("div",{className:(0,a.Z)("hero","shadow--lw",s)},n.createElement("div",{className:(0,a.Z)("container")},e.title&&n.createElement("h1",{className:(0,a.Z)("hero__title")},e.title),e.subtitle&&n.createElement("p",{className:(0,a.Z)("hero__subtitle")},e.subtitle),n.createElement("div",null,e.children)))))},1923:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(7294),a=l(6010);const s=e=>n.createElement("div",{className:(0,a.Z)(e.className)},n.createElement("input",{type:"text",value:e.text,onChange:t=>{e.onChange(t.currentTarget.value)}}))},3796:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var n=l(4804),a=l(7294),s=l(3820),r=l(6670),c=l(1314),i=l(6363),o=l(5317),d=l(1243),m=l(2467);const u=(0,r.Pi)((()=>{(0,c.oR)("semesterStore"),(0,c.oR)("viewStore");const e=(0,c.oR)("jobStore");return a.createElement(n.Z,null,a.createElement(d.Z,{title:a.createElement("span",null,"Excel Import ",a.createElement(i.JO,{path:o.Wee,size:2,color:"green"})),subtitle:"Importiere Daten aus Excel-Dateien."},a.createElement(s.Z,null),a.createElement("div",null,e.importJobs.map(((e,t)=>a.createElement(m.Z,{key:e.id,job:e}))))))}))},9262:(e,t,l)=>{l.d(t,{Z:()=>n});const n={grid:"grid_iljG"}},4928:(e,t,l)=>{l.d(t,{Z:()=>n});const n={details:"details_UDt6",summary:"summary_j7r8",spacer:"spacer_g4So",semester:"semester_h5JF",small:"small_kbSp"}},3157:(e,t,l)=>{l.d(t,{ZP:()=>c});var n=l(5342),a=l(7462),s=l(7294),r=l(6104),c=(l(8417),l(3935),l(3469),(0,s.forwardRef)((function(e,t){var l=(0,n.u)(e);return s.createElement(r.S,(0,a.Z)({ref:t},l))})))}}]);