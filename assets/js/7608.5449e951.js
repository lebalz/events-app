"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([["7608"],{2219:function(e,t,r){r.d(t,{N:()=>eE,n:()=>a});var n,a,o=r(96540);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n=a||(a={})).Hour="Hour",n.QuarterDay="Quarter Day",n.HalfDay="Half Day",n.Day="Day",n.Week="Week",n.Month="Month",n.Year="Year";var c={},u=function(e,t){void 0===t&&(t={});var r=JSON.stringify([e,t]),n=c[r];return n||(n=new Intl.DateTimeFormat(e,t),c[r]=n),n},d=function(e,t,r){return new Date(e.getFullYear()+("year"===r?t:0),e.getMonth()+("month"===r?t:0),e.getDate()+("day"===r?t:0),e.getHours()+("hour"===r?t:0),e.getMinutes()+("minute"===r?t:0),e.getSeconds()+("second"===r?t:0),e.getMilliseconds()+("millisecond"===r?t:0))},h=function(e,t){var r=["millisecond","second","minute","hour","day","month","year"],n=function(e){var n=r.indexOf(t);return r.indexOf(e)<=n};return new Date(e.getFullYear(),n("year")?0:e.getMonth(),n("month")?1:e.getDate(),n("day")?0:e.getHours(),n("hour")?0:e.getMinutes(),n("minute")?0:e.getSeconds(),n("second")?0:e.getMilliseconds())},g=function(e,t,r){for(var n,o=e[0].start,i=e[0].start,s=l(e);!(n=s()).done;){var c=n.value;c.start<o&&(o=c.start),c.end>i&&(i=c.end)}switch(t){case a.Year:o=h(o=d(o,-1,"year"),"year"),i=h(i=d(i,1,"year"),"year");break;case a.Month:o=h(o=d(o,-1*r,"month"),"month"),i=h(i=d(i,1,"year"),"year");break;case a.Week:o=d(y(o=h(o,"day")),-7*r,"day"),i=d(i=h(i,"day"),1.5,"month");break;case a.Day:o=d(o=h(o,"day"),-1*r,"day"),i=d(i=h(i,"day"),19,"day");break;case a.QuarterDay:o=d(o=h(o,"day"),-1*r,"day"),i=d(i=h(i,"day"),66,"hour");break;case a.HalfDay:o=d(o=h(o,"day"),-1*r,"day"),i=d(i=h(i,"day"),108,"hour");break;case a.Hour:o=d(o=h(o,"hour"),-1*r,"hour"),i=d(i=h(i,"day"),1,"day")}return[o,i]},f=function(e,t,r){for(var n=new Date(e),o=[n];n<t;){switch(r){case a.Year:n=d(n,1,"year");break;case a.Month:n=d(n,1,"month");break;case a.Week:n=d(n,7,"day");break;case a.Day:n=d(n,1,"day");break;case a.HalfDay:n=d(n,12,"hour");break;case a.QuarterDay:n=d(n,6,"hour");break;case a.Hour:n=d(n,1,"hour")}o.push(n)}return o},m=function(e,t){var r=u(t,{month:"long"}).format(e);return r.replace(r[0],r[0].toLocaleUpperCase())},v=function(e,t,r){var n=u(t,{weekday:r}).format(e);return n.replace(n[0],n[0].toLocaleUpperCase())},y=function(e){var t=e.getDay(),r=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(r))},x=function(e){var t=new Date(e.valueOf()),r=(t.getDay()+6)%7;t.setDate(t.getDate()-r+3);var n=t.valueOf();t.setMonth(0,1),4!==t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7);var a=(1+Math.ceil((n-t.valueOf())/6048e5)).toString();return 1===a.length?"0"+a:a},p="_2eZzQ",k="_WuQ0f",E=function(e){var t=e.headerHeight,r=e.fontFamily,n=e.fontSize,a=e.rowWidth;return o.createElement("div",{className:"_3_ygE",style:{fontFamily:r,fontSize:n}},o.createElement("div",{className:"_1nBOt",style:{height:t-2}},o.createElement("div",{className:k,style:{minWidth:a}},"\xa0Name"),o.createElement("div",{className:p,style:{height:.5*t,marginTop:.2*t}}),o.createElement("div",{className:k,style:{minWidth:a}},"\xa0From"),o.createElement("div",{className:p,style:{height:.5*t,marginTop:.25*t}}),o.createElement("div",{className:k,style:{minWidth:a}},"\xa0To")))},b="_3lLk3",w={},T={weekday:"short",year:"numeric",month:"long",day:"numeric"},C=function(e){var t=e.rowHeight,r=e.rowWidth,n=e.tasks,a=e.fontFamily,i=e.fontSize,s=e.locale,l=e.onExpanderClick,c=(0,o.useMemo)(function(){return function(e,t){var r=e.toString(),n=w[r];return n||(n=e.toLocaleDateString(s,t),w[r]=n),n}},[s]);return o.createElement("div",{className:"_3ZbQT",style:{fontFamily:a,fontSize:i}},n.map(function(e){var n="";return!1===e.hideChildren?n="\u25BC":!0===e.hideChildren&&(n="\u25B6"),o.createElement("div",{className:"_34SS0",style:{height:t},key:e.id+"row"},o.createElement("div",{className:b,style:{minWidth:r,maxWidth:r},title:e.name},o.createElement("div",{className:"_nI1Xw"},o.createElement("div",{className:n?"_2QjE6":"_2TfEi",onClick:function(){return l(e)}},n),o.createElement("div",null,e.name))),o.createElement("div",{className:b,style:{minWidth:r,maxWidth:r}},"\xa0",c(e.start,T)),o.createElement("div",{className:b,style:{minWidth:r,maxWidth:r}},"\xa0",c(e.end,T)))}))},S="_29NTg",D=function(e){var t=e.task,r=e.rowHeight,n=e.rtl,a=e.svgContainerHeight,i=e.svgContainerWidth,s=e.scrollX,l=e.scrollY,c=e.arrowIndent,u=e.fontSize,d=e.fontFamily,h=e.headerHeight,g=e.taskListWidth,f=e.TooltipContent,m=(0,o.useRef)(null),v=(0,o.useState)(0),y=v[0],x=v[1],p=(0,o.useState)(0),k=p[0],E=p[1];return(0,o.useEffect)(function(){if(m.current){var e,o=1.1*m.current.offsetHeight,u=1.1*m.current.offsetWidth,d=t.index*r-l+h;n?((e=t.x1-1.5*c-u-s)<0&&(e=t.x2+1.5*c-s),u+e>i&&(e=i-u,d+=r)):(u+(e=t.x2+1.5*c+g-s)>g+i&&(e=t.x1+g-1.5*c-s-u),e<g&&(e=i+g-u,d+=r)),o+d-l>a-l&&(d=a-o),x(d),E(e)}},[m,t,c,s,l,h,g,r,a,i,n]),o.createElement("div",{ref:m,className:k?"_25P-K":"_3gVAq",style:{left:k,top:y}},o.createElement(f,{task:t,fontSize:u,fontFamily:d}))},W=function(e){var t=e.task,r=e.fontSize,n=e.fontFamily;return o.createElement("div",{className:"_3T42e",style:{fontSize:r,fontFamily:n}},o.createElement("b",{style:{fontSize:r+6}},t.name+": "+t.start.getDate()+"-"+(t.start.getMonth()+1)+"-"+t.start.getFullYear()+" - "+t.end.getDate()+"-"+(t.end.getMonth()+1)+"-"+t.end.getFullYear()),t.end.getTime()-t.start.getTime()!=0&&o.createElement("p",{className:S},"Duration: "+~~((t.end.getTime()-t.start.getTime())/864e5)+" day(s)"),o.createElement("p",{className:S},!!t.progress&&"Progress: "+t.progress+" %"))},N=function(e){var t=e.scroll,r=e.ganttHeight,n=e.ganttFullHeight,a=e.headerHeight,i=e.rtl,s=e.onScroll,l=(0,o.useRef)(null);return(0,o.useEffect)(function(){l.current&&(l.current.scrollTop=t)},[t]),o.createElement("div",{style:{height:r,marginTop:a,marginLeft:i?"":"-1rem"},className:"_1eT-t",onScroll:s,ref:l},o.createElement("div",{style:{height:n,width:1}}))},H=function(e){var t=e.headerHeight,r=e.fontFamily,n=e.fontSize,a=e.rowWidth,i=e.rowHeight,s=e.scrollY,l=e.tasks,c=e.selectedTask,u=e.setSelectedTask,d=e.onExpanderClick,h=e.locale,g=e.ganttHeight,f=e.taskListRef,m=e.horizontalContainerClass,v=e.TaskListHeader,y=e.TaskListTable,x=(0,o.useRef)(null);(0,o.useEffect)(function(){x.current&&(x.current.scrollTop=s)},[s]);var p=c?c.id:"";return o.createElement("div",{ref:f},o.createElement(v,Object.assign({},{headerHeight:t,fontFamily:r,fontSize:n,rowWidth:a})),o.createElement("div",{ref:x,className:m,style:g?{height:g}:{}},o.createElement(y,Object.assign({},{rowHeight:i,rowWidth:a,fontFamily:r,fontSize:n,tasks:l,locale:h,selectedTaskId:p,setSelectedTask:u,onExpanderClick:d}))))},M="_3rUKi",F=function(e){for(var t,r=e.tasks,n=e.dates,a=e.rowHeight,i=e.svgWidth,s=e.columnWidth,c=e.todayColor,u=e.rtl,h=0,g=[],f=[o.createElement("line",{key:"RowLineFirst",x:"0",y1:0,x2:i,y2:0,className:M})],m=l(r);!(t=m()).done;){var v=t.value;g.push(o.createElement("rect",{key:"Row"+v.id,x:"0",y:h,width:i,height:a,className:"_2dZTy"})),f.push(o.createElement("line",{key:"RowLine"+v.id,x:"0",y1:h+a,x2:i,y2:h+a,className:M})),h+=a}for(var y=new Date,x=0,p=[],k=o.createElement("rect",null),E=0;E<n.length;E++){var b=n[E];p.push(o.createElement("line",{key:b.getTime(),x1:x,y1:0,x2:x,y2:h,className:"_RuwuK"})),(E+1!==n.length&&b.getTime()<y.getTime()&&n[E+1].getTime()>=y.getTime()||0!==E&&E+1===n.length&&b.getTime()<y.getTime()&&d(b,b.getTime()-n[E-1].getTime(),"millisecond").getTime()>=y.getTime())&&(k=o.createElement("rect",{x:x,y:0,width:s,height:h,fill:c})),u&&E+1!==n.length&&b.getTime()>=y.getTime()&&n[E+1].getTime()<y.getTime()&&(k=o.createElement("rect",{x:x+s,y:0,width:s,height:h,fill:c})),x+=s}return o.createElement("g",{className:"gridBody"},o.createElement("g",{className:"rows"},g),o.createElement("g",{className:"rowLines"},f),o.createElement("g",{className:"ticks"},p),o.createElement("g",{className:"today"},k))},L=function(e){return o.createElement("g",{className:"grid"},o.createElement(F,Object.assign({},e)))},R="_9w8d5",_=function(e){var t=e.value,r=e.x1Line,n=e.y1Line,a=e.y2Line,i=e.xText,s=e.yText;return o.createElement("g",{className:"calendarTop"},o.createElement("line",{x1:r,y1:n,x2:r,y2:a,className:"_1rLuZ",key:t+"line"}),o.createElement("text",{key:t+"text",y:s,x:i,className:"_2q1Kt"},t))},O=function(e){var t=e.dateSetup,r=e.locale,n=e.viewMode,i=e.rtl,s=e.headerHeight,l=e.columnWidth,c=e.fontFamily,d=e.fontSize,h=[],g=[];switch(t.viewMode){case a.Year:var f=function(){for(var e=[],r=[],n=.5*s,a=0;a<t.dates.length;a++){var c=t.dates[a],u=c.getFullYear();if(r.push(o.createElement("text",{key:c.getFullYear(),y:.8*s,x:l*a+.5*l,className:R},u)),0===a||c.getFullYear()!==t.dates[a-1].getFullYear()){var d=c.getFullYear().toString(),h=void 0;h=i?(6+a+c.getFullYear()+1)*l:(6+a-c.getFullYear())*l,e.push(o.createElement(_,{key:d,value:d,x1Line:l*a,y1Line:0,y2Line:s,xText:h,yText:.9*n}))}}return[e,r]}();h=f[0],g=f[1];break;case a.Month:var y=function(){for(var e=[],n=[],a=.5*s,c=0;c<t.dates.length;c++){var u=t.dates[c],d=m(u,r);if(n.push(o.createElement("text",{key:d+u.getFullYear(),y:.8*s,x:l*c+.5*l,className:R},d)),0===c||u.getFullYear()!==t.dates[c-1].getFullYear()){var h=u.getFullYear().toString(),g=void 0;g=i?(6+c+u.getMonth()+1)*l:(6+c-u.getMonth())*l,e.push(o.createElement(_,{key:h,value:h,x1Line:l*c,y1Line:0,y2Line:a,xText:g,yText:.9*a}))}}return[e,n]}();h=y[0],g=y[1];break;case a.Week:var p=function(){for(var e=[],n=[],a=1,c=.5*s,u=t.dates,d=u.length-1;d>=0;d--){var h=u[d],g="";(0===d||h.getMonth()!==u[d-1].getMonth())&&(g=m(h,r)+", "+h.getFullYear());var f="W"+x(h);n.push(o.createElement("text",{key:h.getTime(),y:.8*s,x:l*(d+ +i),className:R},f)),g&&(d!==u.length-1&&e.push(o.createElement(_,{key:g,value:g,x1Line:l*d+a*l,y1Line:0,y2Line:c,xText:l*d+l*a*.5,yText:.9*c})),a=0),a++}return[e,n]}();h=p[0],g=p[1];break;case a.Day:var k=function(){for(var e=[],n=[],a=.5*s,i=t.dates,c=0;c<i.length;c++){var u=i[c],d=v(u,r,"short")+", "+u.getDate().toString();if(n.push(o.createElement("text",{key:u.getTime(),y:.8*s,x:l*c+.5*l,className:R},d)),c+1!==i.length&&u.getMonth()!==i[c+1].getMonth()){var h,g=m(u,r);e.push(o.createElement(_,{key:g+u.getFullYear(),value:g,x1Line:l*(c+1),y1Line:0,y2Line:a,xText:l*(c+1)-(h=u.getMonth(),new Date(u.getFullYear(),h+1,0).getDate()*l*.5),yText:.9*a}))}}return[e,n]}();h=k[0],g=k[1];break;case a.QuarterDay:case a.HalfDay:var E=function(){for(var e=[],d=[],h=n===a.HalfDay?2:4,g=.5*s,f=t.dates,y=0;y<f.length;y++){var x=f[y],p=u(r,{hour:"numeric"}).format(x);if(d.push(o.createElement("text",{key:x.getTime(),y:.8*s,x:l*(y+ +i),className:R,fontFamily:c},p)),0===y||x.getDate()!==f[y-1].getDate()){var k=v(x,r,"short")+", "+x.getDate()+" "+m(x,r);e.push(o.createElement(_,{key:k+x.getFullYear(),value:k,x1Line:l*y+h*l,y1Line:0,y2Line:g,xText:l*y+h*l*.5,yText:.9*g}))}}return[e,d]}();h=E[0],g=E[1];break;case a.Hour:var b=function(){for(var e=[],n=[],a=.5*s,d=t.dates,h=0;h<d.length;h++){var g=d[h],f=u(r,{hour:"numeric"}).format(g);if(n.push(o.createElement("text",{key:g.getTime(),y:.8*s,x:l*(h+ +i),className:R,fontFamily:c},f)),0!==h&&g.getDate()!==d[h-1].getDate()){var y=d[h-1],x=v(y,r,"long")+", "+y.getDate()+" "+m(y,r),p=(g.getHours()-24)/2;e.push(o.createElement(_,{key:x+y.getFullYear(),value:x,x1Line:l*h,y1Line:0,y2Line:a,xText:l*(h+p),yText:.9*a}))}}return[e,n]}();h=b[0],g=b[1]}return o.createElement("g",{className:"calendar",fontSize:d,fontFamily:c},o.createElement("rect",{x:0,y:0,width:l*t.dates.length,height:s,className:"_35nLX"}),g," ",h)};function P(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var j=function(e){var t,r,n=e.taskFrom,a=e.taskTo,i=e.rowHeight,s=e.taskHeight,l=e.arrowIndent;if(e.rtl){var c=z(n,a,i,s,l);t=c[0],r=c[1]}else{var u=Y(n,a,i,s,l);t=u[0],r=u[1]}return o.createElement("g",{className:"arrow"},o.createElement("path",{strokeWidth:"1.5",d:t,fill:"none"}),o.createElement("polygon",{points:r}))},Y=function(e,t,r,n,a){var o=e.index>t.index?-1:1,i=t.y+n/2,s=e.x2+2*a,l=s<t.x1?"":"H "+(t.x1-a),c=s>t.x1?a:t.x1-e.x2-a;return["M "+e.x2+" "+(e.y+n/2)+" \n  h "+a+" \n  v "+o*r/2+" \n  "+l+"\n  V "+i+" \n  h "+c,t.x1+","+i+" \n  "+(t.x1-5)+","+(i-5)+" \n  "+(t.x1-5)+","+(i+5)]},z=function(e,t,r,n,a){var o=e.index>t.index?-1:1,i=t.y+n/2,s=e.x1-2*a,l=s>t.x2?"":"H "+(t.x2+a),c=s<t.x2?-a:t.x2-e.x1+a;return["M "+e.x1+" "+(e.y+n/2)+" \n  h "+-a+" \n  v "+o*r/2+" \n  "+l+"\n  V "+i+" \n  h "+c,t.x2+","+i+" \n  "+(t.x2+5)+","+(i+5)+" \n  "+(t.x2+5)+","+(i-5)]},I=function(e,t,r,n,a,o,i,s,l,c,u,d,h,g,f,m,v,y){var x=e.map(function(e,x){return X(e,x,t,r,n,a,o,i,s,l,c,u,d,h,g,f,m,v,y)});return x=x.map(function(e){for(var t=e.dependencies||[],r=function(r){var n=x.findIndex(function(e){return e.id===t[r]});-1!==n&&x[n].barChildren.push(e)},n=0;n<t.length;n++)r(n);return e})},X=function(e,t,r,n,a,o,i,s,l,c,u,d,h,g,f,m,v,y,x){var p;switch(e.type){case"milestone":p=B(e,t,r,n,a,o,i,s,y,x);break;case"project":p=A(e,t,r,n,a,o,i,s,l,g,f,m,v);break;default:p=A(e,t,r,n,a,o,i,s,l,c,u,d,h)}return p},A=function(e,t,r,n,a,o,s,l,c,u,d,h,g){c?(m=Q(e.start,r,n),f=Q(e.end,r,n)):(f=K(e.start,r,n),m=K(e.end,r,n));var f,m,v=e.type;"task"===v&&m-f<2*l&&(v="smalltask",m=f+2*l);var y=V(f,m,e.progress,c),x=y[0],p=y[1],k=U(t,a,o),E="project"===e.type?e.hideChildren:void 0,b=i({backgroundColor:h,backgroundSelectedColor:g,progressColor:u,progressSelectedColor:d},e.styles);return i({},e,{typeInternal:v,x1:f,x2:m,y:k,index:t,progressX:p,progressWidth:x,barCornerRadius:s,handleWidth:l,hideChildren:E,height:o,barChildren:[],styles:b})},B=function(e,t,r,n,a,o,s,l,c,u){var d=K(e.start,r,n),h=U(t,a,o),g=d-.5*o,f=d+.5*o,m=o/1.414,v=i({backgroundColor:c,backgroundSelectedColor:u,progressColor:"",progressSelectedColor:""},e.styles);return i({},e,{end:e.start,x1:g,x2:f,y:h,index:t,progressX:0,progressWidth:0,barCornerRadius:s,handleWidth:l,typeInternal:e.type,progress:0,height:m,hideChildren:void 0,barChildren:[],styles:v})},K=function(e,t,r){var n=t.findIndex(function(t){return t.getTime()>=e.getTime()})-1,a=(e.getTime()-t[n].getTime())/(t[n+1].getTime()-t[n].getTime());return n*r+a*r},Q=function(e,t,r){var n=K(e,t,r);return n+r},U=function(e,t,r){return e*t+(t-r)/2},V=function(e,t,r,n){var a,o=(t-e)*r*.01;return a=n?t-o:e,[o,a]},G=function(e,t){if(e>=t.x2)return 100;if(e<=t.x1)return 0;var r=t.x2-t.x1;return Math.round((e-t.x1)*100/r)},Z=function(e,t){if(e>=t.x2)return 0;if(e<=t.x1)return 100;var r=t.x2-t.x1;return Math.round((t.x2-e)*100/r)},J=function(e,t,r){return[e-5,t+r,e+5,t+r,e,t+r-8.66].join(",")},q=function(e,t,r){e>=r.x2-2*r.handleWidth&&(e=r.x2-2*r.handleWidth);var n=Math.round((e-r.x1)/t);return r.x1+n*t},$=function(e,t,r){e<=r.x1+2*r.handleWidth&&(e=r.x1+2*r.handleWidth);var n=Math.round((e-r.x2)/t);return r.x2+n*t},ee=function(e,t,r){var n=Math.round((e-r.x1)/t),a=r.x1+n*t,o=a+r.x2-r.x1;return[a,o]},et=function(e,t,r,n,a){var o=new Date((e-t)/n*a+r.getTime());return new Date(o.getTime()+(o.getTimezoneOffset()-r.getTimezoneOffset())*6e4)},er=function(e,t,r,n,a,o,i){return"milestone"===r.type?ea(e,t,r,n,a,o):en(e,t,r,n,a,o,i)},en=function(e,t,r,n,a,o,s){var l=i({},r),c=!1;switch(t){case"progress":if(s?l.progress=Z(e,r):l.progress=G(e,r),c=l.progress!==r.progress){var u=V(l.x1,l.x2,l.progress,s),d=u[0],h=u[1];l.progressWidth=d,l.progressX=h}break;case"start":var g=q(e,n,r);if(l.x1=g,c=l.x1!==r.x1){s?l.end=et(g,r.x1,r.end,n,a):l.start=et(g,r.x1,r.start,n,a);var f=V(l.x1,l.x2,l.progress,s),m=f[0],v=f[1];l.progressWidth=m,l.progressX=v}break;case"end":var y=$(e,n,r);if(l.x2=y,c=l.x2!==r.x2){s?l.start=et(y,r.x2,r.start,n,a):l.end=et(y,r.x2,r.end,n,a);var x=V(l.x1,l.x2,l.progress,s),p=x[0],k=x[1];l.progressWidth=p,l.progressX=k}break;case"move":var E=ee(e-o,n,r),b=E[0],w=E[1];if(c=b!==r.x1){l.start=et(b,r.x1,r.start,n,a),l.end=et(w,r.x2,r.end,n,a),l.x1=b,l.x2=w;var T=V(l.x1,l.x2,l.progress,s),C=T[0],S=T[1];l.progressWidth=C,l.progressX=S}}return{isChanged:c,changedTask:l}},ea=function(e,t,r,n,a,o){var s=i({},r),l=!1;if("move"===t){var c=ee(e-o,n,r),u=c[0],d=c[1];(l=u!==r.x1)&&(s.start=et(u,r.x1,r.start,n,a),s.end=s.start,s.x1=u,s.x2=d)}return{isChanged:l,changedTask:s}},eo=function(e,t){var r=e.displayOrder||Number.MAX_VALUE,n=t.displayOrder||Number.MAX_VALUE;return r>n?1:r<n?-1:0},ei="_KxSXS",es="_3w_5u",el=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.isSelected,s=e.progressX,l=e.progressWidth,c=e.barCornerRadius,u=e.styles,d=e.onMouseDown;return o.createElement("g",{onMouseDown:d},o.createElement("rect",{x:t,width:n,y:r,height:a,ry:c,rx:c,fill:i?u.backgroundSelectedColor:u.backgroundColor,className:"_31ERP"}),o.createElement("rect",{x:s,width:l,y:r,height:a,ry:c,rx:c,fill:i?u.progressSelectedColor:u.progressColor}))},ec=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.barCornerRadius,s=e.onMouseDown;return o.createElement("rect",{x:t,y:r,width:n,height:a,className:es,ry:i,rx:i,onMouseDown:s})},eu=function(e){var t=e.progressPoint,r=e.onMouseDown;return o.createElement("polygon",{className:es,points:t,onMouseDown:r})},ed=function(e){var t=e.task,r=e.isProgressChangeable,n=e.isDateChangeable,a=e.rtl,i=e.onEventStart,s=e.isSelected,l=J(!a*t.progressWidth+t.progressX,t.y,t.height),c=t.height-2;return o.createElement("g",{className:ei,tabIndex:0},o.createElement(el,{x:t.x1,y:t.y,width:t.x2-t.x1,height:t.height,progressX:t.progressX,progressWidth:t.progressWidth,barCornerRadius:t.barCornerRadius,styles:t.styles,isSelected:s,onMouseDown:function(e){n&&i("move",t,e)}}),o.createElement("g",{className:"handleGroup"},n&&o.createElement("g",null,o.createElement(ec,{x:t.x1+1,y:t.y+1,width:t.handleWidth,height:c,barCornerRadius:t.barCornerRadius,onMouseDown:function(e){i("start",t,e)}}),o.createElement(ec,{x:t.x2-t.handleWidth-1,y:t.y+1,width:t.handleWidth,height:c,barCornerRadius:t.barCornerRadius,onMouseDown:function(e){i("end",t,e)}})),r&&o.createElement(eu,{progressPoint:l,onMouseDown:function(e){i("progress",t,e)}})))},eh=function(e){var t=e.task,r=e.isProgressChangeable,n=e.isDateChangeable,a=e.onEventStart,i=e.isSelected,s=J(t.progressWidth+t.x1,t.y,t.height);return o.createElement("g",{className:ei,tabIndex:0},o.createElement(el,{x:t.x1,y:t.y,width:t.x2-t.x1,height:t.height,progressX:t.progressX,progressWidth:t.progressWidth,barCornerRadius:t.barCornerRadius,styles:t.styles,isSelected:i,onMouseDown:function(e){n&&a("move",t,e)}}),o.createElement("g",{className:"handleGroup"},r&&o.createElement(eu,{progressPoint:s,onMouseDown:function(e){a("progress",t,e)}})))},eg=function(e){var t=e.task,r=e.isDateChangeable,n=e.onEventStart,a=e.isSelected,i="rotate(45 "+(t.x1+.356*t.height)+" \n    "+(t.y+.85*t.height)+")";return o.createElement("g",{tabIndex:0,className:"_RRr13"},o.createElement("rect",{fill:a?t.styles.backgroundSelectedColor:t.styles.backgroundColor,x:t.x1,width:t.height,y:t.y,height:t.height,rx:t.barCornerRadius,ry:t.barCornerRadius,transform:i,className:"_2P2B1",onMouseDown:function(e){r&&n("move",t,e)}}))},ef="_2pZMF",em=function(e){var t=e.task,r=e.isSelected,n=r?t.styles.backgroundSelectedColor:t.styles.backgroundColor,a=r?t.styles.progressSelectedColor:t.styles.progressColor,i=t.x2-t.x1,s=[t.x1,t.y+t.height/2-1,t.x1,t.y+t.height,t.x1+15,t.y+t.height/2-1].join(","),l=[t.x2,t.y+t.height/2-1,t.x2,t.y+t.height,t.x2-15,t.y+t.height/2-1].join(",");return o.createElement("g",{tabIndex:0,className:"_1KJ6x"},o.createElement("rect",{fill:n,x:t.x1,width:i,y:t.y,height:t.height,rx:t.barCornerRadius,ry:t.barCornerRadius,className:"_2RbVy"}),o.createElement("rect",{x:t.progressX,width:t.progressWidth,y:t.y,height:t.height,ry:t.barCornerRadius,rx:t.barCornerRadius,fill:a}),o.createElement("rect",{fill:n,x:t.x1,width:i,y:t.y,height:t.height/2,rx:t.barCornerRadius,ry:t.barCornerRadius,className:ef}),o.createElement("polygon",{className:ef,points:s,fill:n}),o.createElement("polygon",{className:ef,points:l,fill:n}))},ev=function(e){var t,r,n=i({},e),a=n.task,s=n.arrowIndent,l=n.isDelete,c=n.taskHeight,u=n.isSelected,d=n.rtl,h=n.onEventStart,g=(0,o.useRef)(null),f=(0,o.useState)(o.createElement("div",null)),m=f[0],v=f[1],y=(0,o.useState)(!0),x=y[0],p=y[1];return(0,o.useEffect)(function(){switch(a.typeInternal){case"milestone":v(o.createElement(eg,Object.assign({},e)));break;case"project":v(o.createElement(em,Object.assign({},e)));break;case"smalltask":v(o.createElement(eh,Object.assign({},e)));break;default:v(o.createElement(ed,Object.assign({},e)))}},[a,u]),(0,o.useEffect)(function(){g.current&&p(g.current.getBBox().width<a.x2-a.x1)},[g,a]),o.createElement("g",{onKeyDown:function(e){"Delete"===e.key&&l&&h("delete",a,e),e.stopPropagation()},onMouseEnter:function(e){h("mouseenter",a,e)},onMouseLeave:function(e){h("mouseleave",a,e)},onDoubleClick:function(e){h("dblclick",a,e)},onClick:function(e){h("click",a,e)},onFocus:function(){h("select",a)}},m,o.createElement("text",{x:(t=a.x2-a.x1,r=a.barChildren.length>0,x?a.x1+.5*t:d&&g.current?a.x1-g.current.getBBox().width-s*r-.2*s:a.x1+t+s*r+.2*s),y:a.y+.5*c,className:x?"_3zRJQ":"_3KcaM",ref:g},a.name))},ey=function(e){var t,r=e.tasks,n=e.dates,a=e.ganttEvent,i=e.selectedTask,s=e.rowHeight,l=e.columnWidth,c=e.timeStep,u=e.svg,d=e.taskHeight,h=e.arrowColor,g=e.arrowIndent,f=e.fontFamily,m=e.fontSize,v=e.rtl,y=e.setGanttEvent,x=e.setFailedTask,p=e.setSelectedTask,k=e.onDateChange,E=e.onProgressChange,b=e.onDoubleClick,w=e.onClick,T=e.onDelete,C=null==u||null==(t=u.current)?void 0:t.createSVGPoint(),S=(0,o.useState)(0),D=S[0],W=S[1],N=(0,o.useState)(0),H=N[0],M=N[1],F=(0,o.useState)(!1),L=F[0],R=F[1];(0,o.useEffect)(function(){W(c*l/(n[1].getTime()-n[0].getTime()-60*n[1].getTimezoneOffset()*1e3+60*n[0].getTimezoneOffset()*1e3))},[l,n,c]),(0,o.useEffect)(function(){var e=function(e){try{if(!a.changedTask||!C||!(null!=u&&u.current))return Promise.resolve();e.preventDefault(),C.x=e.clientX;var t,r=C.matrixTransform(null==u||null==(t=u.current.getScreenCTM())?void 0:t.inverse()),n=er(r.x,a.action,a.changedTask,D,c,H,v),o=n.isChanged,i=n.changedTask;return o&&y({action:a.action,changedTask:i}),Promise.resolve()}catch(e){return Promise.reject(e)}};!L&&("move"===a.action||"end"===a.action||"start"===a.action||"progress"===a.action)&&null!=u&&u.current&&(u.current.addEventListener("mousemove",e),u.current.addEventListener("mouseup",function t(r){try{var n,o=function(){f||x(s)},i=a.action,s=a.originalSelectedTask,l=a.changedTask;if(!l||!C||!(null!=u&&u.current)||!s)return Promise.resolve();r.preventDefault(),C.x=r.clientX;var d=C.matrixTransform(null==u||null==(n=u.current.getScreenCTM())?void 0:n.inverse()),h=er(d.x,i,l,D,c,H,v).changedTask,g=s.start!==h.start||s.end!==h.end||s.progress!==h.progress;u.current.removeEventListener("mousemove",e),u.current.removeEventListener("mouseup",t),y({action:""}),R(!1);var f=!0,m=function(){if(("move"===i||"end"===i||"start"===i)&&k&&g){var e=P(function(){return Promise.resolve(k(h,h.barChildren)).then(function(e){void 0!==e&&(f=e)})},function(){f=!1});if(e&&e.then)return e.then(function(){})}else{var t=function(){if(E&&g){var e=P(function(){return Promise.resolve(E(h,h.barChildren)).then(function(e){void 0!==e&&(f=e)})},function(){f=!1});if(e&&e.then)return e.then(function(){})}}();if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(m&&m.then?m.then(o):o(m))}catch(e){return Promise.reject(e)}}),R(!0))},[a,D,H,E,c,k,u,L,C,v,x,y]);var _=function(e,t,r){try{return Promise.resolve(function(){if(r){if(void 0!==r.key){var n=function(){if("delete"===e){var r=function(){if(T){var r=P(function(){return Promise.resolve(T(t)).then(function(r){void 0!==r&&r&&y({action:e,changedTask:t})})},function(e){console.error("Error on Delete. "+e)});if(r&&r.then)return r.then(function(){})}}();if(r&&r.then)return r.then(function(){})}}();if(n&&n.then)return n.then(function(){})}else if("mouseenter"===e)a.action||y({action:e,changedTask:t,originalSelectedTask:t});else if("mouseleave"===e)"mouseenter"===a.action&&y({action:""});else if("dblclick"===e)b&&b(t);else if("click"===e)w&&w(t);else if("move"===e){if(!(null!=u&&u.current)||!C)return;C.x=r.clientX;var o,i=C.matrixTransform(null==(o=u.current.getScreenCTM())?void 0:o.inverse());M(i.x-t.x1),y({action:e,changedTask:t,originalSelectedTask:t})}else y({action:e,changedTask:t,originalSelectedTask:t});return}"select"===e&&p(t.id)}())}catch(e){return Promise.reject(e)}};return o.createElement("g",{className:"content"},o.createElement("g",{className:"arrows",fill:h,stroke:h},r.map(function(e){return e.barChildren.map(function(t){return o.createElement(j,{key:"Arrow from "+e.id+" to "+r[t.index].id,taskFrom:e,taskTo:r[t.index],rowHeight:s,taskHeight:d,arrowIndent:g,rtl:v})})})),o.createElement("g",{className:"bar",fontFamily:f,fontSize:m},r.map(function(e){return o.createElement(ev,{task:e,arrowIndent:g,taskHeight:d,isProgressChangeable:!!E&&!e.isDisabled,isDateChangeable:!!k&&!e.isDisabled,isDelete:!e.isDisabled,onEventStart:_,key:e.id,isSelected:!!i&&e.id===i.id,rtl:v})})))},ex="_2B2zv",ep=function(e){var t=e.gridProps,r=e.calendarProps,n=e.barProps,a=e.ganttHeight,s=e.scrollY,l=e.scrollX,c=(0,o.useRef)(null),u=(0,o.useRef)(null),d=(0,o.useRef)(null),h=i({},n,{svg:c});return(0,o.useEffect)(function(){u.current&&(u.current.scrollTop=s)},[s]),(0,o.useEffect)(function(){d.current&&(d.current.scrollLeft=l)},[l]),o.createElement("div",{className:"_CZjuD",ref:d,dir:"ltr"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t.svgWidth,height:r.headerHeight,fontFamily:n.fontFamily},o.createElement(O,Object.assign({},r))),o.createElement("div",{ref:u,className:ex,style:a?{height:a,width:t.svgWidth}:{width:t.svgWidth}},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t.svgWidth,height:n.rowHeight*n.tasks.length,fontFamily:n.fontFamily,ref:c},o.createElement(L,Object.assign({},t)),o.createElement(ey,Object.assign({},h)))))},ek=function(e){var t=e.scroll,r=e.svgWidth,n=e.taskListWidth,a=e.rtl,i=e.onScroll,s=(0,o.useRef)(null);return(0,o.useEffect)(function(){s.current&&(s.current.scrollLeft=t)},[t]),o.createElement("div",{dir:"ltr",style:{margin:a?"0px "+n+"px 0px 0px":"0px 0px 0px "+n+"px"},className:"_2k9Ys",onScroll:i,ref:s},o.createElement("div",{style:{width:r},className:"_19jgW"}))},eE=function(e){var t=e.tasks,r=e.headerHeight,n=void 0===r?50:r,s=e.columnWidth,l=void 0===s?60:s,c=e.listCellWidth,u=void 0===c?"155px":c,d=e.rowHeight,h=void 0===d?50:d,m=e.ganttHeight,v=void 0===m?0:m,y=e.viewMode,x=void 0===y?a.Day:y,p=e.preStepsCount,k=void 0===p?1:p,b=e.locale,w=void 0===b?"en-GB":b,T=e.barFill,S=void 0===T?60:T,M=e.barCornerRadius,F=void 0===M?3:M,L=e.barProgressColor,R=void 0===L?"#a3a3ff":L,_=e.barProgressSelectedColor,O=void 0===_?"#8282f5":_,P=e.barBackgroundColor,j=void 0===P?"#b8c2cc":P,Y=e.barBackgroundSelectedColor,z=void 0===Y?"#aeb8c2":Y,X=e.projectProgressColor,A=void 0===X?"#7db59a":X,B=e.projectProgressSelectedColor,K=void 0===B?"#59a985":B,Q=e.projectBackgroundColor,U=void 0===Q?"#fac465":Q,V=e.projectBackgroundSelectedColor,G=void 0===V?"#f7bb53":V,Z=e.milestoneBackgroundColor,J=void 0===Z?"#f1c453":Z,q=e.milestoneBackgroundSelectedColor,$=void 0===q?"#f29e4c":q,ee=e.rtl,et=void 0!==ee&&ee,er=e.handleWidth,en=void 0===er?8:er,ea=e.timeStep,ei=e.arrowColor,es=e.fontFamily,el=void 0===es?"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue":es,ec=e.fontSize,eu=void 0===ec?"14px":ec,ed=e.arrowIndent,eh=void 0===ed?20:ed,eg=e.todayColor,ef=e.viewDate,em=e.TooltipContent,ev=e.TaskListHeader,ey=e.TaskListTable,eE=e.onDateChange,eb=e.onProgressChange,ew=e.onDoubleClick,eT=e.onClick,eC=e.onDelete,eS=e.onSelect,eD=e.onExpanderClick,eW=(0,o.useRef)(null),eN=(0,o.useRef)(null),eH=(0,o.useState)(function(){var e=g(t,x,k);return{viewMode:x,dates:f(e[0],e[1],x)}}),eM=eH[0],eF=eH[1],eL=(0,o.useState)(void 0),eR=eL[0],e_=eL[1],eO=(0,o.useState)(0),eP=eO[0],ej=eO[1],eY=(0,o.useState)(0),ez=eY[0],eI=eY[1],eX=(0,o.useState)(v),eA=eX[0],eB=eX[1],eK=(0,o.useState)([]),eQ=eK[0],eU=eK[1],eV=(0,o.useState)({action:""}),eG=eV[0],eZ=eV[1],eJ=(0,o.useMemo)(function(){return h*S/100},[h,S]),eq=(0,o.useState)(),e$=eq[0],e0=eq[1],e1=(0,o.useState)(null),e2=e1[0],e5=e1[1],e3=eM.dates.length*l,e6=eQ.length*h,e8=(0,o.useState)(0),e4=e8[0],e9=e8[1],e7=(0,o.useState)(-1),te=e7[0],tt=e7[1],tr=(0,o.useState)(!1),tn=tr[0],ta=tr[1];(0,o.useEffect)(function(){var e=(e=eD?function(e){var t=e.filter(function(e){return e.hideChildren&&"project"===e.type});if(t.length>0)for(var r=0;t.length>r;r++)!function(r){var n=t[r],a=function e(t,r){var n=[];n="project"!==r.type?t.filter(function(e){return e.dependencies&&-1!==e.dependencies.indexOf(r.id)}):t.filter(function(e){return e.project&&e.project===r.id});var a=[];return n.forEach(function(r){a.push.apply(a,e(t,r))}),n=n.concat(n,a)}(e,n);e=e.filter(function(e){return -1===a.indexOf(e)})}(r);return e}(t):t).sort(eo),r=g(e,x,k),n=f(r[0],r[1],x);et&&(n=n.reverse(),-1===te&&tt(n.length*l)),eF({dates:n,viewMode:x}),eU(I(e,n,l,h,eJ,F,en,et,R,O,j,z,A,K,U,G,J,$))},[t,x,k,h,F,l,eJ,en,R,O,j,z,A,K,U,G,J,$,et,te,eD]),(0,o.useEffect)(function(){if(x===eM.viewMode&&(ef&&!eR||ef&&(null==eR?void 0:eR.valueOf())!==ef.valueOf())){var e=eM.dates,t=e.findIndex(function(t,r){return ef.valueOf()>=t.valueOf()&&r+1!==e.length&&ef.valueOf()<e[r+1].valueOf()});-1!==t&&(e_(ef),tt(l*t))}},[ef,l,eM.dates,eM.viewMode,x,eR,e_]),(0,o.useEffect)(function(){var e=eG.changedTask,t=eG.action;if(e){if("delete"===t)eZ({action:""}),eU(eQ.filter(function(t){return t.id!==e.id}));else if("move"===t||"end"===t||"start"===t||"progress"===t){var r=eQ.find(function(t){return t.id===e.id});r&&(r.start.getTime()!==e.start.getTime()||r.end.getTime()!==e.end.getTime()||r.progress!==e.progress)&&eU(eQ.map(function(t){return t.id===e.id?e:t}))}}},[eG,eQ]),(0,o.useEffect)(function(){e2&&(eU(eQ.map(function(e){return e.id!==e2.id?e:e2})),e5(null))},[e2,eQ]),(0,o.useEffect)(function(){u||ej(0),eN.current&&ej(eN.current.offsetWidth)},[eN,u]),(0,o.useEffect)(function(){eW.current&&eI(eW.current.offsetWidth-eP)},[eW,eP]),(0,o.useEffect)(function(){v?eB(v+n):eB(t.length*h+n)},[v,t,n,h]),(0,o.useEffect)(function(){var e,t=function(e){if(e.shiftKey||e.deltaX){var t=te+(e.deltaX?e.deltaX:e.deltaY);t<0?t=0:t>e3&&(t=e3),tt(t),e.preventDefault()}else if(v){var r=e4+e.deltaY;r<0?r=0:r>e6-v&&(r=e6-v),r!==e4&&(e9(r),e.preventDefault())}ta(!0)};return null==(e=eW.current)||e.addEventListener("wheel",t,{passive:!1}),function(){var e;null==(e=eW.current)||e.removeEventListener("wheel",t)}},[eW,e4,te,v,e3,et,e6]);var to=function(e){var t=eQ.find(function(t){return t.id===e}),r=eQ.find(function(e){return!!e$&&e.id===e$.id});eS&&(r&&eS(r,!1),t&&eS(t,!0)),e0(t)},ti={columnWidth:l,svgWidth:e3,tasks:t,rowHeight:h,dates:eM.dates,todayColor:void 0===eg?"rgba(252, 248, 227, 0.5)":eg,rtl:et},ts={tasks:eQ,dates:eM.dates,ganttEvent:eG,selectedTask:e$,rowHeight:h,taskHeight:eJ,columnWidth:l,arrowColor:void 0===ei?"grey":ei,timeStep:void 0===ea?3e5:ea,fontFamily:el,fontSize:eu,arrowIndent:eh,svgWidth:e3,rtl:et,setGanttEvent:eZ,setFailedTask:e5,setSelectedTask:to,onDateChange:eE,onProgressChange:eb,onDoubleClick:ew,onClick:eT,onDelete:eC};return o.createElement("div",null,o.createElement("div",{className:"_3eULf",onKeyDown:function(e){e.preventDefault();var t=e4,r=te,n=!0;switch(e.key){case"Down":case"ArrowDown":t+=h,n=!1;break;case"Up":case"ArrowUp":t-=h,n=!1;break;case"Left":case"ArrowLeft":r-=l;break;case"Right":case"ArrowRight":r+=l}n?(r<0?r=0:r>e3&&(r=e3),tt(r)):(t<0?t=0:t>e6-v&&(t=e6-v),e9(t)),ta(!0)},tabIndex:0,ref:eW},u&&o.createElement(H,Object.assign({},{rowHeight:h,rowWidth:u,fontFamily:el,fontSize:eu,tasks:eQ,locale:w,headerHeight:n,scrollY:e4,ganttHeight:v,horizontalContainerClass:ex,selectedTask:e$,taskListRef:eN,setSelectedTask:to,onExpanderClick:function(e){eD&&void 0!==e.hideChildren&&eD(i({},e,{hideChildren:!e.hideChildren}))},TaskListHeader:void 0===ev?E:ev,TaskListTable:void 0===ey?C:ey})),o.createElement(ep,{gridProps:ti,calendarProps:{dateSetup:eM,locale:w,viewMode:x,headerHeight:n,columnWidth:l,fontFamily:el,fontSize:eu,rtl:et},barProps:ts,ganttHeight:v,scrollY:e4,scrollX:te}),eG.changedTask&&o.createElement(D,{arrowIndent:eh,rowHeight:h,svgContainerHeight:eA,svgContainerWidth:ez,fontFamily:el,fontSize:eu,scrollX:te,scrollY:e4,task:eG.changedTask,headerHeight:n,taskListWidth:eP,TooltipContent:void 0===em?W:em,rtl:et,svgWidth:e3}),o.createElement(N,{ganttFullHeight:e6,ganttHeight:v,headerHeight:n,scroll:e4,onScroll:function(e){e4===e.currentTarget.scrollTop||tn?ta(!1):(e9(e.currentTarget.scrollTop),ta(!0))},rtl:et})),o.createElement(ek,{svgWidth:e3,taskListWidth:eP,scroll:te,rtl:et,onScroll:function(e){te===e.currentTarget.scrollLeft||tn?ta(!1):(tt(e.currentTarget.scrollLeft),ta(!0))}}))}}}]);