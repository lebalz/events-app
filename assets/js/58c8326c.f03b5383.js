"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[712],{6871:(e,t,l)=>{l.d(t,{Z:()=>o});var n=l(7462),a=l(7294),r=l(6010),c=l(8542),s=l(6363),i=l(9346);const o=e=>{const t=a.useRef(null),[l,o]=a.useState(!1),d=()=>{o(!1),document.removeEventListener("click",d)};a.useEffect((()=>()=>{document.removeEventListener("click",d)}),[]),a.useEffect((()=>{l&&t.current&&t.current.scrollIntoView({behavior:"smooth",block:"center"})}),[l,t]);const m=l?a.createElement(i.Z,{className:(0,r.Z)(c.Z.confirm,"button","button--danger"),onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},text:"Ja, l\xf6schen!"}):null;return a.createElement("span",{className:(0,r.Z)(c.Z.delete,l&&c.Z.expanded,e.className),ref:t},"left"===(e.flyoutSide??"left")&&m,a.createElement(i.Z,(0,n.Z)({title:"L\xf6schen"},(0,i.g)(e),{className:(0,r.Z)(e.className,c.Z.delete,"right"===e.flyoutSide&&c.Z.right,e.className),onClick:e=>{o(!l),document.addEventListener("click",d),e.stopPropagation(),e.preventDefault()},icon:a.createElement(s.pJ,{size:e.size??s.yd})})),"right"===e.flyoutSide&&m)}},3962:(e,t,l)=>{l.d(t,{Z:()=>E});var n=l(7462),a=l(7294),r=l(6010),c=l(2389),s=l(6043);const i="details_XTtI",o="isBrowser_Z1r4",d="collapsibleContent_dVni";function m(e){return!!e&&("SUMMARY"===e.tagName||m(e.parentElement))}function u(e,t){return!!e&&(e===t||u(e.parentElement,t))}const E=e=>{let{summary:t,children:l,...E}=e;const p=(0,c.Z)(),g=(0,a.useRef)(null),{collapsed:Z,setCollapsed:y}=(0,s.u)({initialState:!E.open}),[b,f]=(0,a.useState)(E.open),N=a.isValidElement(t)?t:a.createElement("summary",null,t??"Details");return a.createElement("details",(0,n.Z)({},E,{ref:g,open:b,"data-collapsed":Z,className:(0,r.Z)("alert","alert--info",i,p&&o,E.className),onMouseDown:e=>{m(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;m(t)&&u(t,g.current)&&(e.preventDefault(),Z?(y(!1),f(!0)):y(!0))}}),N,a.createElement(s.z,{lazy:!0,collapsed:Z,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{y(e),f(!e)}},a.createElement("div",{className:d},l)))}},5219:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z});var n=l(6910),a=l(7294);const r="details_Jpqp",c="summary_iOpS",s="spacer_O1Jd";var i=l(6010),o=l(1217),d=l(1314),m=l(9346),u=l(5317),E=l(6363);const p=(0,o.Pi)((()=>{const[e,t]=(0,a.useState)(null),l=(0,d.o)("jobStore");return a.createElement("div",{className:"App"},a.createElement("form",{style:{display:"flex",alignItems:"baseline"}},a.createElement("input",{className:(0,i.Z)("button","button--secondary"),type:"file",name:"terminplan",accept:".xlsx",style:{marginBottom:"12px"},onChange:e=>t(e.currentTarget.files[0])}),a.createElement(m.Z,{text:"Upload",onClick:t=>{if(t.preventDefault(),t.stopPropagation(),!e)throw"No file was selected";return l.importExcel(e),!1},noOutline:!0,icon:a.createElement(E.JO,{path:u.weJ,size:E.yd})})))}));var g=l(1921),Z=l(6871),y=l(3962),b=l(814);const f={badge:"badge_AKes",soloIcon:"soloIcon_opdt",soloText:"soloText_iKfE",iconRight:"iconRight_csRp",inlineIcon:"inlineIcon_aeGj",border:"border_Klou",icon:"icon_MxrW",iconLeft:"iconLeft_s_Zi",disabled:"disabled_bco4",primary:"primary_qT54",blue:"blue_Xkca",green:"green_dXBY",red:"red_zPkH",orange:"orange_8AQ5",gray:"gray_qs7i",lightBlue:"lightBlue_Drcy"},N={primary:f.primary,blue:f.blue,green:f.green,red:f.red,orange:f.orange,gray:f.gray,lightBlue:f.lightBlue},h=e=>({text:e.text,iconSide:e.iconSide,noOutline:e.noOutline,disabled:e.disabled,color:e.color}),v=e=>{const t=(e.children||e.text)&&e.icon;return e.icon?a.createElement("span",{className:(0,i.Z)(t&&f.inlineIcon,f.icon)},e.icon):null},S=e=>{const t=(e.children||e.text)&&e.icon,l=e.iconSide??"right";return a.createElement(a.Fragment,null,e.icon&&"left"===l&&a.createElement(v,e),a.createElement("span",{className:(0,i.Z)(t&&f.border)},e.text&&a.createElement("span",null,e.text),e.children&&e.children),e.icon&&"right"===l&&a.createElement(v,e))},x=e=>{const t=e.text&&!(e.children||e.icon),l=e.icon&&!(e.children||e.text),n=(0,i.Z)(f.badge,l&&f.soloIcon,e.icon&&!l&&("left"===e.iconSide?f.iconLeft:f.iconRight),t&&f.soloText,"badge",N[e.color??"gray"],e.className,e.disabled&&f.disabled);return a.createElement("span",{className:(0,i.Z)(n),title:e.title},a.createElement(S,e))};var _=l(7462);const O=e=>a.createElement(x,(0,_.Z)({title:"Erfolgreich"},h(e),{className:(0,i.Z)(f.save,e.className),icon:a.createElement(E.fB,{size:e.size??E.yd,disabled:e.disabled})})),I=e=>a.createElement(x,(0,_.Z)({title:"Fehler"},h(e),{className:(0,i.Z)(f.save,e.className),icon:a.createElement(E.jj,{size:e.size??E.yd,disabled:e.disabled})})),k=e=>a.createElement(x,(0,_.Z)({title:"Laden"},h(e),{className:(0,i.Z)(f.load,e.className),icon:a.createElement(E.gb,{size:e.size??E.yd,disabled:e.disabled})})),C=e=>{const t=e.text&&("string"==typeof e.text?e.text:e.text[e.state]),l=e.title&&("string"==typeof e.title?e.title:e.title[e.state]);switch(e.state){case"success":return a.createElement(O,(0,_.Z)({},e,{text:t,title:l}));case"error":return a.createElement(I,(0,_.Z)({},e,{text:t,title:l}));case"loading":return a.createElement(k,(0,_.Z)({},e,{text:t,title:l}))}},R={[g.Z.PENDING]:"loading",[g.Z.DONE]:"success",[g.Z.ERROR]:"error",[g.Z.REVERTED]:"loading"},L={[g.O.SYNC_UNTIS]:"Sync Untis",[g.O.IMPORT]:"Import",[g.O.CLONE]:"Klonen"},T={[g.O.SYNC_UNTIS]:"orange",[g.O.IMPORT]:"blue",[g.O.CLONE]:"lightBlue"},z=(0,o.Pi)((()=>{const e=(0,d.o)("untisStore"),t=(0,d.o)("jobStore");return a.createElement(n.Z,null,a.createElement("div",null,a.createElement(p,null)),a.createElement("div",null,t.models.map(((e,l)=>a.createElement(y.Z,{key:l,className:(0,i.Z)(r),summary:a.createElement("summary",{className:(0,i.Z)(c)},a.createElement(C,{state:R[e.state],size:E.yd}),a.createElement(x,{text:L[e.type],color:T[e.type]}),a.createElement(x,{text:e.createdAt.toLocaleDateString()}),a.createElement("div",{className:(0,i.Z)(s)}),e.type===g.O.IMPORT&&a.createElement(x,{text:`${e.events.length}`,color:"blue"}),a.createElement("div",{className:(0,i.Z)(s)}),a.createElement(Z.Z,{onClick:()=>{t.destroy(e)},apiState:t.apiStateFor(`destroy-${e.id}`),disabled:e.state===g.Z.PENDING||e.type!==g.O.IMPORT}))},a.createElement("div",null,a.createElement("div",null,a.createElement("dl",null,a.createElement("dt",null,"Id"),a.createElement("dd",null,e.id),a.createElement("dt",null,"State"),a.createElement("dd",null,e.state),a.createElement("dt",null,"Filename"),a.createElement("dd",null,e.filename),a.createElement("dt",null,"Events"),a.createElement("dd",null,e.events.length),a.createElement("dt",null,"Created At"),a.createElement("dd",null,e.createdAt.toLocaleString()),a.createElement("dt",null,"Updated At"),a.createElement("dd",null,e.updatedAt.toLocaleString()))),a.createElement(b.Z,{language:"json",title:"log.json"},e.fLog)))))),a.createElement("div",{className:(0,i.Z)("button","button--primary"),onClick:()=>{console.log("Sync Untis"),e.sync()}},"Sync Untis"))}))}}]);