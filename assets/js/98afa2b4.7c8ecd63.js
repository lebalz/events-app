"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[611],{2734:(e,t,n)=>{n.d(t,{Z:()=>w});var l=n(1314),a=n(6010),r=n(1217),s=n(7294);const c="container_UHDD",m="navbar_diMJ",o="button_jVKi",d="scrollContainer_A12N",u="fullscreen_y9b4",i="table_vwM1",E={datePicker:"datePicker_t_wz",gbsl:"gbsl_NEvy",fms:"fms_DQ2z",wms:"wms_Jav2",eventRow:"eventRow_JClS",kw:"kw_oYUj",weekday:"weekday_oD07",description:"description_ymu7",location:"location_WWN0",descriptionLong:"descriptionLong_UX1h",expanded:"expanded_WZ86"},v=(0,r.Pi)(s.forwardRef(((e,t)=>{const[n,r]=s.useState(!1),c=(0,l.o)("viewStore"),{eventTable:m}=c,{event:o}=e;return s.createElement("tr",{ref:t,"data-id":o.id,onClick:()=>{n||r(!0)},onBlur:()=>{r(!1)},className:(0,a.W)(E.eventRow,n&&E.expanded)},s.createElement("td",{className:(0,a.W)(E.kw)},o.kw),s.createElement("td",{className:(0,a.W)(E.weekday)},o.weekday),s.createElement("td",{style:{maxWidth:m.maxWidthDescription},className:(0,a.W)(E.description)},o.description),s.createElement("td",{className:(0,a.W)(E.startDate)},o.fStartDate),s.createElement("td",{className:(0,a.W)(E.startTime)},o.fStartTime),s.createElement("td",{className:(0,a.W)(E.endDate)},o.fEndDate),s.createElement("td",{className:(0,a.W)(E.endTime)},o.fEndTime),s.createElement("td",{className:(0,a.W)(E.location),style:{maxWidth:m.maxWidthLocation}},o.location),s.createElement("td",{className:(0,a.W)(E.departmentNames)},o.departmentNames.map(((e,t)=>s.createElement("span",{key:t,className:(0,a.W)("badge","badge--primary",E.badge,E[e.toLowerCase()])},e)))),s.createElement("td",{className:(0,a.W)(E.classes)},o.classes.map(((e,t)=>s.createElement("span",{key:t,className:(0,a.W)("badge","badge--secondary")},e)))),s.createElement("td",{className:(0,a.W)(E.descriptionLong),style:{maxWidth:m.maxWidthDescriptionLong}},o.descriptionLong))})));var f=n(8949),h=n(8517);const w=(0,r.Pi)((e=>{var t;(0,l.o)("eventStore");const n=(0,l.o)("viewStore"),r=s.useRef(null);s.useEffect((()=>{const t=n.fullscreen;return e.showFullscreenButton&&n.setShowFullscreenButton(!0),()=>n.setShowFullscreenButton(t)}),[]),s.useEffect((()=>{const e=()=>{if(r.current){n.eventTable.setClientWidth(r.current.clientWidth);const e=parseFloat(getComputedStyle(r.current).fontSize);n.eventTable.setBaseFontSize(e)}};return r.current&&(window.addEventListener("resize",e),e()),()=>window.removeEventListener("resize",e)}),[r,n]),s.useEffect((()=>(0,f.U5)((()=>n.fullscreen),(e=>{var t;e?null==(t=r.current)||t.requestFullscreen():document.fullscreenElement&&document.exitFullscreen();console.log("fullscreen",n.fullscreen)}))),[]),s.useEffect((()=>{const e=()=>{!!document.fullscreenElement!==n.fullscreen&&n.setFullscreen(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[]);const E=null==(t=(0,l.o)("userStore").current)?void 0:t.id;return s.createElement("div",{className:(0,a.Z)(c),ref:r},n.fullscreen&&s.createElement("div",{className:(0,a.Z)(m)},s.createElement("div",{className:(0,a.Z)(o)},s.createElement(h.Z,null))),s.createElement("div",{className:(0,a.Z)(d,n.fullscreen&&u)},s.createElement("table",{className:(0,a.Z)(i)},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null,"KW"),s.createElement("th",null,"Tag"),s.createElement("th",null,"Stichwort"),s.createElement("th",null,"Start"),s.createElement("th",null,"Zeit"),s.createElement("th",null,"Ende"),s.createElement("th",null,"Zeit"),s.createElement("th",null,"Ort"),s.createElement("th",null,s.createElement("div",null,"Schulen")),s.createElement("th",null,"Klassen"),s.createElement("th",null,"Beschreibung"))),s.createElement("tbody",null,e.events.map((e=>s.createElement(v,{key:e.id,event:e,locked:e.authorId!==E})))))))}))},7657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var l=n(7294),a=n(1217),r=n(1314),s=n(4424),c=n(2734);const m=(0,a.Pi)((()=>{const e=(0,r.o)("viewStore");return l.createElement(s.Z,null,l.createElement("div",null,l.createElement(c.Z,{events:e.eventTable.events,showFullscreenButton:!0})))}))}}]);