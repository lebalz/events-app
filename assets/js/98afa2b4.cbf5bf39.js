"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[611],{1770:(e,t,a)=>{a.d(t,{Z:()=>C});var l=a(7476),n=a(1314),r=a(6010),c=a(1217),d=a(7294);const o="toggleFilter_QPPE",s="toggle_svt3",m="active_bQ42",u=(0,c.Pi)((e=>{const{values:t,onChange:a}=e;return d.createElement("div",{className:(0,r.default)(o)},t.map(((e,t)=>d.createElement("div",{key:t,style:{"--color":e.color||"var(--ifm-color-primary)"},onClick:()=>a(e.value),className:(0,r.default)("badge",s,e.active&&m)},e.label||e.value))))})),i="container_TWki",E="table_g8Gw",v="td_QWnF",p="cell_fHhb",g="locked_oWCQ",k=e=>{const[t,a]=d.useState(!1);return d.createElement("td",{onMouseDown:l=>{e.locked||(t||l.preventDefault(),a(!0))},className:(0,r.default)(v)},t?d.createElement("form",null,d.createElement("textarea",{name:e.name,value:e.description,onChange:t=>{t.preventDefault(),e.onChange(t,e.id)},onBlur:e=>{e.preventDefault(),a(!1)},autoFocus:t,disabled:e.locked})):d.createElement("span",{className:(0,r.default)(p,e.locked&&g)},e.description||"-"))};var h=a(5141);const b={datePicker:"datePicker_zkfG",gym:"gym_DUtE",fms:"fms_yGUT",wms:"wms_wtpb"},f=(0,c.Pi)(d.forwardRef(((e,t)=>{const{event:a}=e;return d.createElement(d.Fragment,null,d.createElement("td",null,a.kw),d.createElement("td",null,a.weekday),d.createElement(k,{id:a.id,name:"description",description:a.description,onChange:e.onChange,locked:e.locked}),d.createElement("td",{style:{marginRight:"15px"},colSpan:2},a.isEditable?d.createElement(h.Z,{className:(0,r.default)(b.datePicker),onChange:e=>{a.setDateRange(e[0],e[1]),a.save(),console.log(e)},disableClock:!0,showLeadingZeros:!0,format:"dd.MM.yyyy HH:mm",clearIcon:null,"data-testid":"datePicker",value:[a.localStart,a.localEnd],locale:"gsw-u-sd-chzh"}):d.createElement("span",null,a.startDate)),d.createElement("td",null,a.location),d.createElement("td",null,a.departements.map(((e,t)=>d.createElement("span",{key:t,className:(0,r.default)("badge","badge--primary",b.badge,b[e.toLowerCase()])},e)))),d.createElement("td",null,a.classes.map(((e,t)=>d.createElement("span",{key:t,className:(0,r.default)("badge","badge--secondary")},e)))),d.createElement(k,{id:a.id,name:"descriptionLong",description:a.descriptionLong,onChange:e.onChange,locked:e.locked}))}))),y=(0,c.Pi)(d.forwardRef(((e,t)=>{const{event:a}=e;return d.createElement(d.Fragment,null,d.createElement("td",null,a.kw),d.createElement("td",null,a.weekday),d.createElement("td",null,a.description),d.createElement("td",null,`${a.startDate} ${a.startTime}`),d.createElement("td",null,`${a.endDate} ${a.endTime}`),d.createElement("td",null,a.location),d.createElement("td",null,a.departements.map(((e,t)=>d.createElement("span",{key:t,className:(0,r.default)("badge","badge--primary",b.badge,b[e.toLowerCase()])},e)))),d.createElement("td",null,a.classes.map(((e,t)=>d.createElement("span",{key:t,className:(0,r.default)("badge","badge--secondary")},e)))),d.createElement("td",null,a.descriptionLong))}))),w=(0,c.Pi)(d.forwardRef(((e,t)=>{const[a,l]=d.useState(!1),{event:n}=e;return d.createElement("tr",{ref:t,"data-id":n.id,onClick:()=>{e.locked||a||l(!0)},onBlur:()=>{l(!1)}},a?d.createElement(f,{event:n,onChange:e.onChange,locked:e.locked}):d.createElement(y,{event:n,locked:e.locked}))}))),C=(0,c.Pi)((e=>{var t;const a=(0,n.o)("eventStore"),c=(0,n.o)("viewStore"),o=(e,t)=>{const l={};l[e.target.name]=e.target.value,a.updateEvent(t,l)},s=null==(t=(0,n.o)("userStore").current)?void 0:t.id;return d.createElement("div",{className:(0,r.default)(i)},d.createElement("table",{className:(0,r.default)(E)},d.createElement("thead",null,d.createElement("tr",null,d.createElement("th",null,"KW"),d.createElement("th",null,"Wochentag"),d.createElement("th",null,"Stichwort"),d.createElement("th",null,"Start"),d.createElement("th",null,"Ende"),d.createElement("th",null,"Ort"),d.createElement("th",null,d.createElement("div",null,"Schulen"),d.createElement(u,{values:Object.values(l.mT).map((e=>({value:e,active:c.eventTable.departments.has(e),color:`var(--${e.toLowerCase()})`}))),onChange:e=>{c.eventTable.departments.has(e)?c.eventTable.departments.delete(e):c.eventTable.departments.add(e)}})),d.createElement("th",null,"Klassen"),d.createElement("th",null,"Beschreibung"))),d.createElement("tbody",null,e.events.map((e=>d.createElement(w,{key:e.id,event:e,onChange:o,locked:e.authorId!==s}))))))}))},6862:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(7294),n=a(6010),r=a(1217),c=a(1314);const d=(0,r.Pi)((e=>{const t=(0,c.o)("eventStore");return l.createElement("div",null,l.createElement("button",{onClick:()=>{t.newEvent()},className:(0,n.default)("button","button--primary")},"+ Neues Event"))}))},7657:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var l=a(7294),n=a(1217),r=a(1314),c=a(4424),d=a(6862),o=a(1770);const s=(0,n.Pi)((()=>{const e=(0,r.o)("viewStore");(0,r.o)("userStore");return l.createElement(c.Z,null,l.createElement("div",null,l.createElement(d.Z,null),l.createElement(o.Z,{events:e.eventTable.events})))}))}}]);