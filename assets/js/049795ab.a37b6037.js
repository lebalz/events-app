"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[392],{5162:(e,t,n)=>{n.d(t,{Z:()=>o});var l=n(7294),a=n(6010);const r="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return l.createElement("div",{role:"tabpanel",className:(0,a.Z)(r,o),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>y});var l=n(7462),a=n(7294),r=n(6010),o=n(2466),c=n(6775),s=n(1980),i=n(7392),u=n(12);function m(e){return function(e){var t;return(null==(t=a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:t.filter(Boolean))??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:l,default:a}}=e;return{value:t,label:n,attributes:l,default:a}}))}function d(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??m(n);return function(e){const t=(0,i.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function E(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:n}=e;const l=(0,c.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,a.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(l.location.search);t.set(r,e),l.replace({...l.location,search:t.toString()})}),[r,l])]}function h(e){const{defaultValue:t,queryString:n=!1,groupId:l}=e,r=d(e),[o,c]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!E({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const l=n.find((e=>e.default))??n[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:t,tabValues:r}))),[s,i]=p({queryString:n,groupId:l}),[m,h]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[l,r]=(0,u.Nk)(n);return[l,(0,a.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:l}),v=(()=>{const e=s??m;return E({value:e,tabValues:r})?e:null})();(0,a.useLayoutEffect)((()=>{v&&c(v)}),[v]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!E({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);c(e),i(e),h(e)}),[i,h,r]),tabValues:r}}var v=n(2389);const f="tabList__CuJ",b="tabItem_LNqP";function Z(e){let{className:t,block:n,selectedValue:c,selectValue:s,tabValues:i}=e;const u=[],{blockElementScrollPositionUntilNextRender:m}=(0,o.o5)(),d=e=>{const t=e.currentTarget,n=u.indexOf(t),l=i[n].value;l!==c&&(m(t),s(l))},E=e=>{var t;let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=u.indexOf(e.currentTarget)+1;n=u[t]??u[0];break}case"ArrowLeft":{const t=u.indexOf(e.currentTarget)-1;n=u[t]??u[u.length-1];break}}null==(t=n)||t.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},i.map((e=>{let{value:t,label:n,attributes:o}=e;return a.createElement("li",(0,l.Z)({role:"tab",tabIndex:c===t?0:-1,"aria-selected":c===t,key:t,ref:e=>u.push(e),onKeyDown:E,onClick:d},o,{className:(0,r.Z)("tabs__item",b,null==o?void 0:o.className,{"tabs__item--active":c===t})}),n??t)})))}function g(e){let{lazy:t,children:n,selectedValue:l}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===l));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==l}))))}function S(e){const t=h(e);return a.createElement("div",{className:(0,r.Z)("tabs-container",f)},a.createElement(Z,(0,l.Z)({},e,t)),a.createElement(g,(0,l.Z)({},e,t)))}function y(e){const t=(0,v.Z)();return a.createElement(S,(0,l.Z)({key:String(t)},e))}},2825:(e,t,n)=>{n.d(t,{Z:()=>u});var l=n(7294),a=n(6010);const r="container_X8RJ",o="select_S5Gz";var c=n(1217),s=n(1314),i=n(9740);const u=(0,c.Pi)((e=>{var t;const n=(0,s.oR)("untisStore"),{user:c}=e;return c?l.createElement("div",{className:(0,a.Z)(r)},l.createElement(i.ZP,{menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999}),valueContainer:e=>({...e,flexBasis:"12em"})},className:(0,a.Z)(o),classNamePrefix:"select",value:{value:c.untisId,label:c.untisTeacher?`${c.shortName} - ${null==(t=c.untisTeacher)?void 0:t.longName}`:"-"},options:n.teachers.slice().map((e=>({value:e.id,label:`${e.shortName} - ${e.longName}`}))),onChange:e=>{c.linkUntis(null==e?void 0:e.value)},isMulti:!1,isSearchable:!0,isClearable:!!c.untisTeacher})):null}))},9372:(e,t,n)=>{n.d(t,{Z:()=>m,g:()=>s});var l=n(7294),a=n(6010),r=n(2323),o=n(6363),c=n(5736);const s=e=>({text:e.text,iconSide:e.iconSide,noOutline:e.noOutline,disabled:e.disabled,color:e.color,size:e.size}),i=e=>{const t=(e.children||e.text)&&e.icon;if(!e.icon)return null;let n=e.icon;return"string"==typeof n&&(n=l.createElement(o.JO,{path:n,size:e.size})),l.createElement("span",{className:(0,a.Z)(t&&r.Z.inlineIcon,r.Z.icon)},n)},u=e=>{const t=(e.children||e.text)&&e.icon,n=e.iconSide??"right";return l.createElement(l.Fragment,null,e.icon&&"left"===n&&l.createElement(i,e),l.createElement("span",{className:(0,a.Z)(t&&r.Z.border)},e.text&&l.createElement("span",null,e.text),e.children&&e.children),e.icon&&"right"===n&&l.createElement(i,e))},m=e=>{const t=e.text&&!(e.children||e.icon),n=e.icon&&!(e.children||e.text),o=(0,c.pv)(e.color,e.color?void 0:"secondary"),s={};e.color&&!o&&(s["--ifm-badge-background-color"]=e.color,s["--ifm-badge-border-color"]=e.color,s["--ifm-badge-color"]="white",s.color="white");const i=(0,a.Z)(r.Z.badge,n&&r.Z.soloIcon,e.icon&&!n&&("left"===e.iconSide?r.Z.iconLeft:r.Z.iconRight),t&&r.Z.soloText,"badge",o,e.className,e.disabled&&r.Z.disabled);return l.createElement("span",{className:(0,a.Z)(i),style:s,title:e.title},l.createElement(u,e))}},6871:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(7462),a=n(7294),r=n(6010),o=n(8542),c=n(6363),s=n(9346);const i=e=>{const t=a.useRef(null),[n,i]=a.useState(!1),u=()=>{i(!1),document.removeEventListener("click",u)};a.useEffect((()=>()=>{document.removeEventListener("click",u)}),[]),a.useEffect((()=>{n&&t.current&&t.current.scrollIntoView({behavior:"smooth",block:"center"})}),[n,t]);const m=n?a.createElement(s.Z,{className:(0,r.Z)(o.Z.confirm),color:"red",onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick()},text:"Ja"}):null;return a.createElement("span",{className:(0,r.Z)(o.Z.delete,n&&o.Z.expanded,e.className),ref:t},"left"===(e.flyoutSide??"left")&&m,a.createElement(s.Z,(0,l.Z)({title:"L\xf6schen"},(0,s.g)(e),{className:(0,r.Z)(e.className,o.Z.delete,"right"===e.flyoutSide&&o.Z.right,e.className),onClick:e=>{i(!n),document.addEventListener("click",u),e.stopPropagation(),e.preventDefault()},icon:a.createElement(c.pJ,{size:e.size??c.yd})})),"right"===e.flyoutSide&&m)}},2624:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(7462),a=n(7294),r=n(6010),o=n(8542),c=n(6363),s=n(9346);const i=e=>a.createElement(s.Z,(0,l.Z)({title:"\xc4nderungen verwerfen"},(0,s.g)(e),{className:(0,r.Z)(o.Z.discard,"button--sm",e.className),color:"secondary",onClick:e.onClick,icon:a.createElement(c.wq,{size:e.size??c.yd})}))},4655:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(7462),a=n(7294),r=n(6010),o=n(8542),c=n(6363),s=n(9346);const i=e=>a.createElement(s.Z,(0,l.Z)({title:"Bearbeiten"},(0,s.g)(e),{className:(0,r.Z)(o.Z.edit,e.className),color:"orange",onClick:e.onClick,icon:a.createElement(c.dY,{size:e.size??c.yd})}))},1687:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(7462),a=n(7294),r=n(6010),o=n(8542),c=n(6363),s=n(9346);const i=e=>a.createElement(s.Z,(0,l.Z)({title:"Speichern"},(0,s.g)(e),{className:(0,r.Z)(o.Z.save,e.className),onClick:e.onClick,icon:a.createElement(c.N,{size:e.size??c.yd,disabled:e.disabled})}))},9873:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(7294),a=n(6330);const r=e=>{const t=e.date.toISOString().substring(0,10);return l.createElement("div",null,l.createElement("input",{type:"date",value:t,onChange:t=>{const n=new Date(t.currentTarget.value);e.onChange((0,a.g7)(n))}}))}},4435:(e,t,n)=>{n.d(t,{Z:()=>c});var l=n(7294),a=n(6010);const r="textarea_o3BM",o=(e,t,n,a)=>{(0,l.useEffect)((()=>{if(e){e.style.height="auto";const t=e.scrollHeight,l=16*(n??1);e.style.height=`${t<l?l:t}px`}}),[e,t,a??[]])},c=e=>{const[t,n]=l.useState(null);return o(t,e.text,e.rows||3),l.createElement("div",{className:(0,a.Z)(r)},l.createElement("textarea",{value:e.text,ref:n,rows:e.rows||3,onChange:t=>e.onChange(t.target.value)}))}},1923:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(7294);const a=e=>l.createElement("div",null,l.createElement("input",{type:"text",value:e.text,onChange:t=>{e.onChange(t.currentTarget.value)}}))},4343:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var l=n(7294),a=n(6010);const r="layout_mSig",o="tabs_lcx4";var c=n(1217),s=n(6910),i=n(4866),u=n(5162),m=n(1314);const d="table_eTTt",E="semester_kUGh",p="dirty_LUW9";var h=n(1923),v=n(9873),f=n(6871),b=n(2624),Z=n(1687);const g=(0,c.Pi)((e=>{const{semester:t}=e,n=l.useRef(null);return l.useEffect((()=>{n.current&&n.current.scrollIntoView({behavior:"smooth",block:"center"})}),[n]),l.createElement("tr",{className:(0,a.Z)(E,t.isDirty&&p)},l.createElement("td",null,l.createElement(h.Z,{text:t.name,onChange:e=>{t.update({name:e})}})),l.createElement("td",null,l.createElement(v.Z,{date:t.start,onChange:e=>{t.update({start:e.toISOString()})}})),l.createElement("td",null,l.createElement(v.Z,{date:t.end,onChange:e=>{t.update({end:e.toISOString()})}})),l.createElement("td",null,l.createElement("div",{ref:n},t.isDirty&&l.createElement(b.Z,{onClick:()=>t.reset()}),l.createElement(Z.Z,{disabled:!t.isDirty,onClick:()=>t.save(),apiState:t.apiStateFor(`save-${t.id}`)}),l.createElement(f.Z,{onClick:()=>t.destroy(),flyoutSide:"left",apiState:t.apiStateFor(`destroy-${t.id}`)}))))}));var S=n(4655);const y=(0,c.Pi)((e=>{const{semester:t}=e;return l.createElement("tr",{className:(0,a.Z)(E,t.isDirty&&p)},l.createElement("td",null,t.name),l.createElement("td",null,t.fStartDate),l.createElement("td",null,t.fEndDate),l.createElement("td",null,l.createElement(S.Z,{onClick:()=>t.setEditing(!0)})))})),C=(0,c.Pi)((e=>{const t=(0,m.oR)("semesterStore");return l.createElement("div",null,l.createElement("table",{className:(0,a.Z)(d)},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Name"),l.createElement("th",null,"Start Date"),l.createElement("th",null,"End Date"),l.createElement("th",null,"Edit"))),l.createElement("tbody",null,t.semesters.map(((e,t)=>e.editing?l.createElement(g,{semester:e,key:e.id}):l.createElement(y,{semester:e,key:e.id}))))))}));var k=n(9346),N=n(6363),x=n(5317);const w="user_IBUF",_="role_AuJ8";var I=n(6330),D=n(9372),T=n(8106),z=n(2825),A=n(1684);const R=(0,c.Pi)((e=>{const t=(0,m.oR)("userStore"),{user:n}=e;return l.createElement("tr",{className:(0,a.Z)(w)},l.createElement("td",null,n.email),l.createElement("td",null,l.createElement("div",{className:(0,a.Z)(_)},Object.keys(T.uU).map(((e,a)=>l.createElement(k.Z,{text:T.uU[e],disabled:t.apiStateFor(`save-role-${n.id}`)===A.gQ.LOADING,active:n.role===T.uU[e],color:n.role===T.uU[e]?"primary":"secondary",onClick:()=>t.setRole(n,T.uU[e]),key:a}))))),l.createElement("td",null,l.createElement(z.Z,{user:n})),l.createElement("td",null,(0,I.o0)(n.createdAt)),l.createElement("td",null,(0,I.o0)(n.updatedAt)),l.createElement("td",null,l.createElement(D.Z,{text:n.id})))})),V=(0,c.Pi)((e=>{const{adminUserTable:t}=(0,m.oR)("viewStore"),{users:n}=e,a="asc"===t.sortDirection?x.BcN:x.D8s;return l.createElement("div",null,l.createElement("table",null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"email"===t.sortColumn&&a,text:"Email",onClick:()=>t.setSortColumn("email")})),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"role"===t.sortColumn&&a,text:"Role",onClick:()=>t.setSortColumn("role")})),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"shortName"===t.sortColumn&&a,text:"Untis",onClick:()=>t.setSortColumn("shortName")})),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"createdAt"===t.sortColumn&&a,text:"Created",onClick:()=>t.setSortColumn("createdAt")})),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"updatedAt"===t.sortColumn&&a,text:"Updated",onClick:()=>t.setSortColumn("updatedAt")})),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"id"===t.sortColumn&&a,text:"Id",onClick:()=>t.setSortColumn("id")})))),l.createElement("tbody",null,n.map(((e,t)=>l.createElement(R,{key:e.id,user:e}))))))})),P="department_ZgH2",U="colorData_lVoi",q="color_q8xy",L="actions_59Ek",O="description_XpT3";var $=n(4435);const B=(0,c.Pi)((e=>{(0,m.oR)("userStore");const t=(0,m.oR)("departmentStore"),{department:n}=e;return l.createElement("tr",{className:(0,a.Z)(P)},l.createElement("td",null,l.createElement(h.Z,{text:n.name,onChange:e=>n.update({name:e})})),l.createElement("td",{className:(0,a.Z)(O)},l.createElement($.Z,{text:n.description,onChange:e=>n.update({description:e}),rows:2})),l.createElement("td",{className:(0,a.Z)(U)},l.createElement("label",{className:(0,a.Z)(q)},l.createElement(D.Z,{text:n.color,color:n.color}),l.createElement("input",{type:"color",value:n.color,onChange:e=>n.update({color:e.target.value})}))),l.createElement("td",null,(0,I.o0)(n.createdAt)),l.createElement("td",null,(0,I.o0)(n.updatedAt)),l.createElement("td",null,l.createElement(D.Z,{text:n.id})),l.createElement("td",null,l.createElement("div",{className:(0,a.Z)(L)},n.isDirty&&l.createElement(b.Z,{onClick:()=>n.reset()}),n.isDirty&&l.createElement(Z.Z,{onClick:()=>t.save(n)}),l.createElement(f.Z,{onClick:()=>t.destroy(n),disabled:n.events.length>0||n.classes.length>0}))))})),F=(0,c.Pi)((e=>{const t=(0,m.oR)("departmentStore"),{adminDepartmentTable:n}=(0,m.oR)("viewStore"),{departments:a}=e,r="asc"===n.sortDirection?x.BcN:x.D8s;return l.createElement("div",null,l.createElement(k.Z,{text:"Neue Abteilung",onClick:()=>t.create({name:" "}),iconSide:"left",icon:x.jxF,apiState:t.apiStateFor("create")}),l.createElement("table",null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"name"===n.sortColumn&&r,text:"Name",onClick:()=>n.setSortColumn("name")})),l.createElement("th",null,"Beschreibung"),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"color"===n.sortColumn&&r,text:"Farbe",onClick:()=>n.setSortColumn("color")})),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"createdAt"===n.sortColumn&&r,text:"Erstellt",onClick:()=>n.setSortColumn("createdAt")})),l.createElement("th",null,l.createElement(k.Z,{size:N.yd,iconSide:"left",icon:"updatedAt"===n.sortColumn&&r,text:"Aktualisiert",onClick:()=>n.setSortColumn("updatedAt")})),l.createElement("th",null,"Id"),l.createElement("th",null,"Aktionen"))),l.createElement("tbody",null,a.map(((e,t)=>l.createElement(B,{key:e.id,department:e}))))))})),j=(0,c.Pi)((()=>{var e;const t=(0,m.oR)("userStore"),n=(0,m.oR)("semesterStore"),c=(0,m.oR)("viewStore");(0,m.oR)("registrationPeriodStore");return(null==(e=t.current)?void 0:e.role)!==T.uU.ADMIN?l.createElement(s.Z,null,l.createElement("main",null,l.createElement("div",{className:"hero hero--primary"},l.createElement("div",{className:"container"},l.createElement("h1",{className:"hero__title"},"Nur f\xfcr Admins"),l.createElement("p",{className:"hero__subtitle"},"Nur f\xfcr Administratoren zug\xe4nglicher Bereich"))))):l.createElement(s.Z,{wrapperClassName:(0,a.Z)(r)},l.createElement(i.Z,{className:(0,a.Z)(o)},l.createElement(u.Z,{value:"users",label:"Users",default:!0},l.createElement(V,{users:c.adminUserTable.users})),l.createElement(u.Z,{value:"semesters",label:"Semester"},l.createElement(k.Z,{title:"Semester Hinzuf\xfcgen",text:"Neues Semester",iconSide:"left",icon:l.createElement(N.JO,{path:x.jxF}),color:"primary",apiState:n.apiStateFor("create"),onClick:()=>{n.create({name:"New",start:new Date(Date.now()+7776e6).toISOString(),end:new Date(Date.now()+23328e6).toISOString()})}}),l.createElement(C,null)),l.createElement(u.Z,{value:"departments",label:"Abteilungen"},l.createElement(F,{departments:c.adminDepartmentTable.departments})),l.createElement(u.Z,{value:"reg-periods",label:"Registrierungs Perioden"},"This is a banana \ud83c\udf4c")))}))},2323:(e,t,n)=>{n.d(t,{Z:()=>l});const l={badge:"badge_AKes",soloIcon:"soloIcon_opdt",soloText:"soloText_iKfE",iconRight:"iconRight_csRp",inlineIcon:"inlineIcon_aeGj",border:"border_Klou",icon:"icon_MxrW",iconLeft:"iconLeft_s_Zi",disabled:"disabled_bco4"}}}]);