"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[203],{4673:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(7462),l=n(7294),r=n(6010),c=n(2389),s=n(6043);const o="details_lb9f",u="isBrowser_bmU9",d="collapsibleContent_i85q";function m(e){return!!e&&("SUMMARY"===e.tagName||m(e.parentElement))}function i(e,t){return!!e&&(e===t||i(e.parentElement,t))}function E(e){let{summary:t,children:n,...E}=e;const p=(0,c.Z)(),v=(0,l.useRef)(null),{collapsed:h,setCollapsed:b}=(0,s.u)({initialState:!E.open}),[f,g]=(0,l.useState)(E.open);return l.createElement("details",(0,a.Z)({},E,{ref:v,open:f,"data-collapsed":h,className:(0,r.default)(o,p&&u,E.className),onMouseDown:e=>{m(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;m(t)&&i(t,v.current)&&(e.preventDefault(),h?(b(!1),g(!0)):b(!0))}}),t??l.createElement("summary",null,"Details"),l.createElement(s.z,{lazy:!1,collapsed:h,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{b(e),g(!e)}},l.createElement("div",{className:d},n)))}const p="details_b_Ee";function v(e){let{...t}=e;return l.createElement(E,(0,a.Z)({},t,{className:(0,r.default)("alert alert--info",p,t.className)}))}},9318:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(1314),l=n(6010),r=n(1217),c=n(7294);const s="table_g8Gw",o="td_QWnF",u="cell_fHhb",d="locked_oWCQ",m=e=>{const[t,n]=c.useState(!1);return c.createElement("td",{onMouseDown:a=>{e.locked||(t||a.preventDefault(),n(!0))},className:(0,l.default)(o)},t?c.createElement("form",null,c.createElement("textarea",{name:e.name,value:e.description,onChange:t=>{t.preventDefault(),e.onChange(t,e.id)},onBlur:e=>{e.preventDefault(),n(!1)},autoFocus:t,disabled:e.locked})):c.createElement("span",{className:(0,l.default)(u,e.locked&&d)},e.description||"-"))};var i=n(5141);const E={datePicker:"datePicker_zkfG"},p=(0,r.Pi)((e=>{const{event:t}=e;return c.createElement("tr",null,c.createElement("td",null,t.kw),c.createElement("td",null,t.weekday),c.createElement(m,{id:t.id,name:"description",description:t.description,onChange:e.onChange,locked:e.locked}),c.createElement("td",{style:{marginRight:"15px"}},t.isEditable?c.createElement(i.Z,{className:(0,l.default)(E.datePicker),onChange:e=>{t.setDateRange(e[0],e[1]),t.save(),console.log(e)},disableClock:!0,showLeadingZeros:!0,format:"dd.MM.yyyy HH:mm",clearIcon:null,"data-testid":"datePicker",value:[t.localStart,t.localEnd],locale:"gsw-u-sd-chzh"}):c.createElement("span",null,t.startDate)),c.createElement("td",null,t.location),c.createElement("td",null,t.departements.map(((e,t)=>c.createElement("span",{key:t,className:(0,l.default)("badge","badge--primary",E.badge,E[e.toLowerCase()])},e)))),c.createElement("td",null,t.classes.map(((e,t)=>c.createElement("span",{key:t,className:(0,l.default)("badge","badge--secondary")},e)))),c.createElement(m,{id:t.id,name:"descriptionLong",description:t.descriptionLong,onChange:e.onChange,locked:e.locked}))})),v=(0,r.Pi)((e=>{var t;const n=(0,a.o)("eventStore"),r=(e,t)=>{const a={};a[e.target.name]=e.target.value,n.updateEvent(t,a)},o=null==(t=(0,a.o)("userStore").current)?void 0:t.id;return c.createElement("table",{className:(0,l.default)(s)},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,"KW"),c.createElement("th",null,"Wochentag"),c.createElement("th",null,"Stichwort"),c.createElement("th",null,"Zeitraum"),c.createElement("th",null,"Ort"),c.createElement("th",null,"Schulen"),c.createElement("th",null,"Klassen"),c.createElement("th",null,"Beschreibung"))),c.createElement("tbody",null,e.events.map((e=>c.createElement(p,{key:e.id,event:e,onChange:r,locked:e.authorId!==o})))))}))},6862:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7294),l=n(6010),r=n(1217),c=n(1314);const s=(0,r.Pi)((e=>{const t=(0,c.o)("eventStore");return a.createElement("div",null,a.createElement("button",{onClick:()=>{t.newEvent()},className:(0,l.default)("button","button--primary")},"+ Neues Event"))}))},4841:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(7294),l=n(1217),r=n(5229),c=n(6862),s=n(9318),o=n(1314),u=n(4673);const d=(0,l.Pi)((()=>{var e;const t=(0,o.o)("eventStore"),n=(0,o.o)("userStore"),l=(0,o.o)("jobStore"),d=null==(e=n.current)?void 0:e.id;return a.createElement(r.Z,null,a.createElement("div",null,a.createElement(c.Z,null),a.createElement(s.Z,{events:t.byUser(d).filter((e=>!e.jobId))}),l.jobs.map(((e,t)=>{var n;return a.createElement(u.Z,{key:t,summary:a.createElement("summary",null,null==(n=e.user)?void 0:n.email," - ",e.filename||"|"," - ",e.state," - ",e.events.length)},a.createElement("div",null,a.createElement("button",{"aria-label":"Close",className:"clean-btn close",type:"button",onClick:()=>{l.destroy(e)}},a.createElement("span",{"aria-hidden":"true"},"\xd7")),a.createElement(s.Z,{events:e.events})))}))))}))}}]);