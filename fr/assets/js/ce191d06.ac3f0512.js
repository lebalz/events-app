"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([["407"],{55750:function(e,t,r){r.d(t,{Z:function(){return s}});let s={bulk:"bulk_BjmH",stateActions:"stateActions_Zpyz",success:"success_BGHQ",revoke:"revoke_V7Y_",blue:"blue_xNLm",badge:"badge_zSdE",close:"close_v7Fh",spacer:"spacer_fLJd"}},1305:function(e,t,r){r.d(t,{_b:()=>k,ZP:()=>S,fz:()=>F,Cj:()=>Z});var s=r("67294"),l=r("67026");let n={filter:"filter_qD68",basic:"basic_t4OQ",spacer:"spacer_qI_4",audience:"audience_nVNp",showMore:"showMore_pLh5",showAdvancedFilter:"showAdvancedFilter_kBHk",dirty:"dirty_RftN",advanced:"advanced_Vqsq",selects:"selects_es0U",classes:"classes_CcOR",indicatorsContainer:"indicatorsContainer_sOr1",multiValue:"multiValue_riDV",dates:"dates_la2P",date:"date_bdzb",buttonGroup:"buttonGroup_XGT8",control:"control_DD5p"};var i=r("96877"),a=r("45155"),o=r("31596"),c=r("55317"),d=r("17525"),u=r("38910"),m=r("63729"),v=r("24050"),h=r("14709"),p=r("23157"),f=r("96486"),x=r.n(f),g=r("8849"),b=r.n(g),j=r("55750"),w=r("85893");let y=(0,i.Pi)(e=>{let t=(0,a.oR)("viewStore");return(0,w.jsx)("div",{className:(0,l.Z)(j.Z.showSelect),children:(0,w.jsx)(o.ZP,{icon:c.o7Z,text:e.label,size:m.yd,onClick:()=>t.eventTable.toggleShowSelect(),title:(0,h.I)({id:"event.bulkActions.show_select",message:"Terminauswahl anzeigen"})})})});var C=r("59620");let Z={option:(e,t)=>{let{data:r,isFocused:s}=t;return{...e,color:r?.color,backgroundColor:s?"var(--docusaurus-collapse-button-bg-hover)":void 0}},multiValue:(e,t)=>{let{data:r}=t;return{...e,color:r?.color}},multiValueLabel:(e,t)=>{let{data:r}=t;return{...e,color:r?.color}},valueContainer:e=>({...e,padding:"0px",paddingLeft:"4px"}),menuPortal:e=>({...e,zIndex:"var(--ifm-z-index-overlay)"})},F={indicatorsContainer:()=>n.indicatorsContainer,multiValue:()=>n.multiValue,control:()=>n.control,menu:()=>n.control},k=e=>({...e,colors:{...e.colors,primary25:"var(--ifm-color-primary-lightest)",primary50:"var(--ifm-color-primary-lighter)",primary75:"var(--ifm-color-primary-light)",primary:"var(--ifm-color-primary)"}}),S=(0,i.Pi)(e=>{let t=(0,a.oR)("viewStore"),r=(0,a.oR)("departmentStore"),i=(0,a.oR)("untisStore"),{eventTable:f}=t;s.useEffect(()=>{if(!e.showCurrentAndFuture&&f.onlyCurrentWeekAndFuture)return f.setOnlyCurrentWeekAndFuture(!1),()=>f.setOnlyCurrentWeekAndFuture(!0)},[e.showCurrentAndFuture]);let j=e.showSelectLocation||"quick";return(0,w.jsxs)("div",{className:(0,l.Z)(n.filter),children:[(0,w.jsxs)("div",{className:(0,l.Z)(n.basic),children:[e.showSelects&&!f.showSelect&&"quick"===j&&(0,w.jsx)(y,{}),(0,w.jsx)("div",{className:(0,l.Z)(n.spacer)}),(0,w.jsxs)("div",{className:(0,l.Z)(n.audience,"button-group","button-group--block"),children:[!!t.user&&(0,w.jsx)(o.ZP,{text:(0,h.I)({message:"Meine",id:"event.filter.mine",description:"Filter: Only events affecting me"}),title:(0,h.I)({message:"Nur die f\xfcr mich relevanten Termine anzeigen",id:"event.filter.mine.title"}),active:f.onlyMine,color:"primary",onClick:()=>f.toggleOnlyMine()}),f.showCurrentAndFutureFilter&&e.showCurrentAndFuture&&(0,w.jsx)(o.ZP,{text:(0,h.I)({message:"K\xfcnftige",id:"event.filter.future",description:"Filter: Only current and future events"}),title:(0,h.I)({message:"Vergangene Termine ausblenden.",id:"event.filter.future.title",description:"Filter: Only current and future events"}),active:f.onlyCurrentWeekAndFuture,color:"primary",onClick:()=>f.setOnlyCurrentWeekAndFuture(!f.onlyCurrentWeekAndFuture)})]}),(0,w.jsx)("div",{className:(0,l.Z)(n.classes,n.fuzzyFilter),children:(0,w.jsx)(d.Z,{placeholder:(0,h.I)({message:"Suche",id:"event.filter.search"}),onChange:e=>f.setTextFilter(e),text:f.klassFilter})}),(0,w.jsxs)("div",{className:(0,l.Z)(n.showMore),children:[(0,w.jsx)(o.ZP,{icon:m.v9,size:m.yd,active:f.showAdvancedFilter,className:(0,l.Z)(n.showAdvancedFilter),color:f.hasAdvancedFilters?"primary":void 0,title:(0,h.I)({id:"event.filter.showAdvanced",message:"Erweiterte Filter anzeigen",description:"Button: Show advanced filter"}),onClick:()=>f.setShowAdvancedFilter(!f.showAdvancedFilter)}),f.hasAdvancedFilters&&(0,w.jsx)("span",{className:(0,l.Z)(n.dirty),children:(0,w.jsxs)(g.Stack,{size:m.OW,children:[(0,w.jsx)(b(),{path:c.mdD,size:m.OW,color:"var(--ifm-background-surface-color)"}),(0,w.jsx)(b(),{path:c.Vip,size:.9*m.OW,color:"var(--ifm-color-primary)"})]})})]}),(0,w.jsx)("div",{className:(0,l.Z)(n.spacer)})]}),f.showAdvancedFilter&&(0,w.jsxs)("div",{className:(0,l.Z)(n.advanced),children:[(0,w.jsxs)("div",{className:(0,l.Z)(n.selects),children:[(0,w.jsx)("div",{className:(0,l.Z)(n.department),children:(0,w.jsx)(p.ZP,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,h.I)({message:"Abteilungen",id:"event.filter.departments",description:"Filter: Departments"}),name:"departments-filter",menuPortalTarget:document.body,options:x().orderBy(r.usedDepartments,["name"]).map(e=>({value:e.id,label:e.name,color:e?.color})),styles:Z,className:(0,l.Z)(n.select),classNames:F,value:[...f.departmentIds].map(e=>{let t=r.find(e);return{value:e,label:t?.name||"",color:t?.color||"#ccc"}}),onChange:e=>{let t=e.map(e=>e.value);f.setDepartmentIds(t)},theme:k})}),(0,w.jsx)("div",{className:(0,l.Z)(n.classes),children:(0,w.jsx)(p.ZP,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,h.I)({message:"Klassen",id:"event.filter.classes",description:"Filter: Classes"}),name:"class-filter",menuPortalTarget:document.body,options:x().orderBy(i.classes,["name"]).map(e=>({value:e.name,label:e.displayName,color:e.department?.color})),styles:Z,className:(0,l.Z)(n.select),classNames:F,value:[...f.classNames].map(e=>{let t=i.findClassByName(e);return{value:e,label:t?.displayName||"",color:t?.department?.color||"#ccc"}}),onChange:e=>{let t=e.map(e=>e.value);f.setClassNames(t)},theme:k})})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{children:(0,w.jsx)(h.Z,{id:"event.filter.advanced.filterAudience",children:"Nach Zielgruppe filtern"})}),(0,w.jsx)("div",{className:(0,l.Z)(n.buttonGroup,"button-group","button-group--block"),children:Object.keys(C.E1).map(e=>(0,w.jsx)(o.ZP,{text:C.E[e],active:f.audienceFilter.has(e),color:"primary",onClick:()=>f.toggleAudienceFilter(e)},e))})]}),(0,w.jsx)("div",{children:(0,w.jsx)(v.Z,{label:(0,h.I)({message:"Gel\xf6schte Verstecken?",id:"event.filter.deleted",description:"Filter: deleted"}),checked:f.hideDeleted,onChange:e=>f.setHideDeleted(e),labelSide:"left"})}),e.showSelects&&!f.showSelect&&"advanced"===j&&(0,w.jsx)("div",{children:(0,w.jsx)(y,{label:(0,h.I)({id:"event.filter.show_select",message:"Termine ausw\xe4hlen"})})}),(0,w.jsxs)("div",{className:(0,l.Z)(n.dates),children:[(0,w.jsx)("div",{className:(0,l.Z)(n.date,n.start),children:f.start?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{date:f.start||new Date,onChange:e=>f.setStartFilter(e),time:"start"}),(0,w.jsx)(o.ZP,{icon:c.VxL,iconSide:"left",text:(0,h.I)({message:"Start",id:"event.filter.index.button.start",description:"Text of button start time"}),onClick:()=>f.setStartFilter(null)})]}):(0,w.jsx)(o.ZP,{icon:c.jxF,iconSide:"left",text:(0,h.I)({message:"Start",id:"event.filter.index.button.start",description:"Text of button start time"}),onClick:()=>f.setStartFilter(new Date)})}),(0,w.jsx)("div",{className:(0,l.Z)(n.date,n.end),children:f.end?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.Z,{date:f.end||new Date,onChange:e=>f.setEndFilter(e),time:"end"}),(0,w.jsx)(o.ZP,{icon:c.VxL,iconSide:"left",text:(0,h.I)({message:"Ende",id:"event.filter.index.button.end",description:"Text of button end time"}),onClick:()=>f.setEndFilter(null)})]}):(0,w.jsx)(o.ZP,{icon:c.jxF,iconSide:"left",text:(0,h.I)({message:"Ende",id:"event.filter.index.button.end",description:"Text of button end time"}),onClick:()=>f.setEndFilter(new Date)})})]})]})]})})},30555:function(e,t,r){r.d(t,{Z:()=>g});var s=r("67294"),l=r("67026");let n="container_dISx",i="gantt_B07y";var a=r("53791"),o=r("96877"),c=r("27661"),d=r("75150"),u=r("45155"),m=r("96486"),v=r.n(m),h=r("85893");let{CURRENT_LOCALE:p}=d.default.customFields,f={de:"gsw",fr:"fr"},x=(0,c.kq)(e=>v().orderBy(e,["startTimeMs"],["asc"]).map((e,t)=>{let r={progressColor:"#ffbb54",progressSelectedColor:"#ff9e0d"};return e.isDeleted&&(r.progressColor="#ff0000",r.progressSelectedColor="#830000",r.backgroundSelectedColor="#830000",r.backgroundColor="#ff0000"),{start:e.start,end:e.end,name:`${e.isDeleted?"\u274C: ":""}${e.description}`,id:e.id||`id-${t}`,type:"task",progress:e.progress,isDisabled:!0,styles:r}})),g=(0,o.Pi)(e=>{let t=s.useRef(null),[r,o]=s.useState(0),c=x(e.events),d=(0,u.oR)("viewStore");s.useEffect(()=>{let e=setTimeout(()=>{let e=document.querySelector(".today");e&&(e.scrollIntoView(),window.scrollTo(0,0))},20);return()=>clearTimeout(e)},[e.events,e.events.length]),s.useEffect(()=>{let e=t.current;if(e){let t=e.querySelectorAll("div");if(t.length>1){let e=t[1],r=e=>{e.stopImmediatePropagation()};return e.addEventListener("wheel",r),()=>e.removeEventListener("wheel",r)}if(r<50){let e=setTimeout(()=>{o(r+1)},200);return()=>clearTimeout(e)}else console.warn("Could not find the wheel-blocking div in the gantt component. Sidescrolling might not work.")}},[t.current,r]);let m=s.useMemo(()=>e=>{let t=e.target,r=t.querySelector('div[dir="ltr"] > svg');r&&(r.style.transform=`translateY(${t.scrollTop}px)`)},[]);return(0,h.jsx)("div",{className:(0,l.Z)(n),onScroll:m,children:(0,h.jsx)("div",{className:(0,l.Z)(i),ref:t,children:c.length>0&&(0,h.jsx)(a.A,{tasks:c,viewMode:a.w.Day,listCellWidth:"",viewDate:new Date,rowHeight:20,locale:f[p||"de"],onClick:e=>{d.setEventModalId(e.id)}})})})})},17525:function(e,t,r){r.d(t,{Z:()=>a});var s=r("67294"),l=r("67026");let n="textInput_K1iv";var i=r("85893");let a=e=>{let t=s.useRef(null);return s.useEffect(()=>{t.current&&e.autoFocus&&t.current.focus()},[t,e.autoFocus]),(0,i.jsx)("div",{className:(0,l.Z)(e.className,n),children:(0,i.jsx)("input",{ref:t,type:e.search?"search":"text",value:e.text,placeholder:e.placeholder,autoFocus:e.autoFocus,onChange:t=>{e.onChange(t.currentTarget.value)}})})}},6070:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}}),r(67294);var s=r(96877),l=r(45155),n=r(67181),i=r(1305),a=r(30555),o=r(85893);let c=(0,s.Pi)(()=>{let{eventTable:e}=(0,l.oR)("viewStore");return(0,o.jsxs)(n.Z,{children:[(0,o.jsx)(i.ZP,{showCurrentAndFuture:!0}),(0,o.jsx)(a.Z,{events:e.events})]})})}}]);