"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[858],{1525:(e,t,s)=>{s.d(t,{Z:()=>k});var n=s(7294),r=s(6010);const l={filter:"filter_qD68",basic:"basic_t4OQ",audience:"audience_nVNp",showAdvancedFilter:"showAdvancedFilter_kBHk",advanced:"advanced_Vqsq",selects:"selects_es0U",classes:"classes_CcOR",indicatorsContainer:"indicatorsContainer_sOr1",multiValue:"multiValue_riDV",dates:"dates_la2P",date:"date_bdzb",control:"control_DD5p"};var a=s(6670),o=s(1314),i=s(9346),c=s(5317),d=s(3924),u=s(9873),m=s(6363),h=s(7989),v=s(5999),p=s(3157),x=s(6486),f=s.n(x),g=s(5893);const C={option:(e,t)=>{let{data:s,isFocused:n}=t;return{...e,color:s?.color,backgroundColor:n?"var(--docusaurus-collapse-button-bg-hover)":void 0}},multiValue:(e,t)=>{let{data:s}=t;return{...e,color:s?.color}},multiValueLabel:(e,t)=>{let{data:s}=t;return{...e,color:s?.color}},valueContainer:e=>({...e,padding:"0px",paddingLeft:"4px"}),menuPortal:e=>({...e,zIndex:9999})},b={indicatorsContainer:()=>l.indicatorsContainer,multiValue:()=>l.multiValue,control:()=>l.control,menu:()=>l.control},j=e=>({...e,colors:{...e.colors,primary25:"var(--ifm-color-primary-lightest)",primary50:"var(--ifm-color-primary-lighter)",primary75:"var(--ifm-color-primary-light)",primary:"var(--ifm-color-primary)"}}),k=(0,a.Pi)((e=>{const t=(0,o.oR)("viewStore"),s=(0,o.oR)("departmentStore"),a=(0,o.oR)("untisStore"),{eventTable:x}=t;return n.useEffect((()=>{if(!e.showCurrentAndFuture&&x.onlyCurrentWeekAndFuture)return x.setOnlyCurrentWeekAndFuture(!1),()=>x.setOnlyCurrentWeekAndFuture(!0)}),[e.showCurrentAndFuture]),(0,g.jsxs)("div",{className:(0,r.Z)(l.filter),children:[(0,g.jsxs)("div",{className:(0,r.Z)(l.basic),children:[(0,g.jsxs)("div",{className:(0,r.Z)(l.audience,"button-group","button-group--block"),children:[!!t.user&&(0,g.jsx)(i.ZP,{text:(0,v.I)({message:"Meine",id:"event.filter.mine",description:"Filter: Only events affecting me"}),active:x.onlyMine,color:"blue",onClick:()=>x.toggleOnlyMine()}),x.showCurrentAndFutureFilter&&e.showCurrentAndFuture&&(0,g.jsx)(i.ZP,{text:(0,v.I)({message:"K\xfcnftige",id:"event.filter.future",description:"Filter: Only current and future events"}),active:x.onlyCurrentWeekAndFuture,color:"blue",onClick:()=>x.setOnlyCurrentWeekAndFuture(!x.onlyCurrentWeekAndFuture)})]}),(0,g.jsx)("div",{className:(0,r.Z)(l.classes,l.fuzzyFilter),children:(0,g.jsx)(d.Z,{placeholder:(0,v.I)({message:"Suche",id:"joi.event.description"}),onChange:e=>x.setTextFilter(e),text:x.klassFilter})}),(0,g.jsx)("div",{className:(0,r.Z)(l.showMore),children:(0,g.jsx)(i.ZP,{icon:m.OY,size:m.yd,active:x.showAdvancedFilter,className:(0,r.Z)(l.showAdvancedFilter),color:x.hasAdvancedFilters?"blue":void 0,onClick:()=>x.setShowAdvancedFilter(!x.showAdvancedFilter)})})]}),x.showAdvancedFilter&&(0,g.jsxs)("div",{className:(0,r.Z)(l.advanced),children:[(0,g.jsxs)("div",{className:(0,r.Z)(l.selects),children:[(0,g.jsx)("div",{className:(0,r.Z)(l.department),children:(0,g.jsx)(p.ZP,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,v.I)({message:"Abteilungen",id:"event.filter.departments",description:"Filter: Departments"}),name:"departments-filter",menuPortalTarget:document.body,options:f().orderBy(s.usedDepartments,["name"]).map((e=>({value:e.id,label:e.name,color:e?.color}))),styles:C,className:(0,r.Z)(l.select),classNames:b,value:[...x.departmentIds].map((e=>{const t=s.find(e);return{value:e,label:t?.name||"",color:t?.color||"#ccc"}})),onChange:e=>{const t=e.map((e=>e.value));x.setDepartmentIds(t)},theme:j})}),(0,g.jsx)("div",{className:(0,r.Z)(l.classes),children:(0,g.jsx)(p.ZP,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,v.I)({message:"Klassen",id:"event.filter.classes",description:"Filter: Classes"}),name:"class-filter",menuPortalTarget:document.body,options:f().orderBy(a.classes,["name"]).map((e=>({value:e.name,label:e.displayName,color:e.department?.color}))),styles:C,className:(0,r.Z)(l.select),classNames:b,value:[...x.classNames].map((e=>{const t=a.findClassByName(e);return{value:e,label:t?.name||"",color:t?.department?.color||"#ccc"}})),onChange:e=>{const t=e.map((e=>e.value));x.setClassNames(t)},theme:j})})]}),(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{label:"Gel\xf6schte Verstecken?",checked:x.hideDeleted,onChange:e=>x.setHideDeleted(e),labelSide:"left"})}),(0,g.jsxs)("div",{className:(0,r.Z)(l.dates),children:[(0,g.jsx)("div",{className:(0,r.Z)(l.date,l.start),children:x.start?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{date:x.start||new Date,onChange:e=>x.setStartFilter(e)}),(0,g.jsx)(i.ZP,{icon:c.VxL,iconSide:"left",text:"Start",onClick:()=>x.setStartFilter(null)})]}):(0,g.jsx)(i.ZP,{icon:c.jxF,iconSide:"left",text:"Start",onClick:()=>x.setStartFilter(new Date)})}),(0,g.jsx)("div",{className:(0,r.Z)(l.date,l.end),children:x.end?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{date:x.end||new Date,onChange:e=>x.setEndFilter(e)}),(0,g.jsx)(i.ZP,{icon:c.VxL,iconSide:"left",text:"Ende",onClick:()=>x.setEndFilter(null)})]}):(0,g.jsx)(i.ZP,{icon:c.jxF,iconSide:"left",text:"Ende",onClick:()=>x.setEndFilter(new Date)})})]})]})]})}))},7989:(e,t,s)=>{s.d(t,{Z:()=>m});s(7294);var n=s(6010);const r="checkbox_gJbf",l="label_D_bl",a="disabled_xuMP",o="partialChecked_Zohe",i="checked_OLMX";var c=s(6670),d=s(8949),u=s(5893);const m=(0,c.Pi)((e=>(0,u.jsx)("div",{className:(0,n.Z)(r,e.checked&&i,e.partialChecked&&o,e.className),children:(0,u.jsxs)("label",{className:(0,n.Z)(l,e.disabled&&a),children:["left"===e.labelSide&&e.label,(0,u.jsx)("input",{className:r,type:"checkbox",disabled:e.disabled,onChange:(0,d.aD)((t=>{e.onChange(!e.checked,t.nativeEvent.shiftKey)})),checked:e.checked}),"left"!==e.labelSide&&e.label]})})))},9873:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(7294),r=s(6330),l=s(8949),a=s(5893);const o=e=>{const[t,s]=n.useState((0,r.g7)(e.date).toISOString().substring(0,10));return n.useEffect((0,l.aD)((()=>{try{const s=new Date(t);e.onChange((0,r.g7)(s))}catch(s){}})),[t]),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"date",value:t,onChange:e=>{s(e.currentTarget.value)}})})}},3924:(e,t,s)=>{s.d(t,{Z:()=>a});s(7294);var n=s(6010);const r="textInput_K1iv";var l=s(5893);const a=e=>(0,l.jsx)("div",{className:(0,n.Z)(e.className,r),children:(0,l.jsx)("input",{type:e.search?"search":"text",value:e.text,placeholder:e.placeholder,onChange:t=>{e.onChange(t.currentTarget.value)}})})},2400:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var n=s(7294),r=s(6010);const l="container_yPxC",a="gantt_eT4N";var o=s(3791),i=s(6670),c=s(1314),d=s(9031),u=s(1525),m=s(7661),h=s(6809),v=s(5893);const{CURRENT_LOCALE:p}=h.default.customFields,x={de:"gsw",fr:"fr"},f=(0,m.kq)((e=>e.map(((e,t)=>{const s={progressColor:"#ffbb54",progressSelectedColor:"#ff9e0d"};return e.isDeleted&&(s.progressColor="#ff0000",s.progressSelectedColor="#830000",s.backgroundSelectedColor="#830000",s.backgroundColor="#ff0000"),{start:e.start,end:e.end,name:`${e.isDeleted?"\u274c: ":""}${e.description}`,id:e.id||`id-${t}`,type:"task",progress:e.progress,isDisabled:!0,styles:s}})))),g=(0,i.Pi)((()=>{const e=(0,c.oR)("viewStore"),{eventTable:t}=e,s=n.useRef(null),[i,m]=n.useState(0),h=f(t.events);return n.useEffect((()=>{const e=setTimeout((()=>{const e=document.querySelector(".today");e&&(e.scrollIntoView(),window.scrollTo(0,0))}),20);return()=>clearTimeout(e)}),[h]),n.useEffect((()=>{const e=s.current;if(e){const t=e.querySelectorAll("div");if(t.length>1){const e=t[1],s=e=>{e.stopImmediatePropagation()};return e.addEventListener("wheel",s),()=>e.removeEventListener("wheel",s)}if(i<50){const e=setTimeout((()=>{m(i+1)}),200);return()=>clearTimeout(e)}console.warn("Could not find the wheel-blocking div in the gantt component. Sidescrolling might not work.")}}),[s.current,i]),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(u.Z,{showCurrentAndFuture:!0}),(0,v.jsx)("div",{className:(0,r.Z)(l),children:(0,v.jsx)("div",{className:(0,r.Z)(a),ref:s,children:h.length>0&&(0,v.jsx)(o.A,{tasks:h,viewMode:o.w.Day,listCellWidth:"",viewDate:new Date,rowHeight:20,locale:x[p||"de"],onClick:t=>{e.setEventModalId(t.id)}})})})]})})),C=g}}]);