"use strict";(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([["753"],{65738:function(e,t,r){r.d(t,{A:()=>s});let s={bulk:"bulk_BjmH",stateActions:"stateActions_Zpyz",success:"success_BGHQ",red:"red_NMOD",revoke:"revoke_V7Y_",blue:"blue_xNLm",badge:"badge_zSdE",close:"close_v7Fh",spacer:"spacer_fLJd"}},78680:function(e,t,r){r.d(t,{O4:()=>C,Ay:()=>N,n0:()=>F,k7:()=>k});var s=r(74848),l=r(96540),n=r(34164);let i={filter:"filter_qD68",basic:"basic_t4OQ",spacer:"spacer_qI_4",audience:"audience_nVNp",flexWidth:"flexWidth_OtUm",input:"input_JA9W",showMore:"showMore_pLh5",showAdvancedFilter:"showAdvancedFilter_kBHk",dirty:"dirty_RftN",icon:"icon_MiLD",advanced:"advanced_Vqsq",selects:"selects_es0U",fuzzyFilter:"fuzzyFilter_h2YF",indicatorsContainer:"indicatorsContainer_sOr1",multiValue:"multiValue_riDV",dates:"dates_la2P",date:"date_bdzb",buttonGroup:"buttonGroup_XGT8",control:"control_DD5p"};var a=r(7246),o=r(50840),c=r(14009),d=r(9165),u=r(54080),m=r(31607),v=r(37652),p=r(16498),h=r(30568),f=r(46005),x=r(2543),A=r.n(x),g=r(85996),y=r.n(g),j=r(65738);let b=(0,a.PA)(e=>{let t=(0,o.Pj)("viewStore");return(0,s.jsx)("div",{className:(0,n.A)(j.A.showSelect),children:(0,s.jsx)(c.Ay,{icon:d.$6Y,text:e.label,size:v.iJ,onClick:()=>t.eventTable.toggleShowSelect(),title:(0,h.T)({id:"event.bulkActions.show_select",message:"Terminauswahl anzeigen"})})})});var w=r(18034);let C={option:(e,{data:t,isFocused:r})=>({...e,color:t?.color,backgroundColor:r?"var(--docusaurus-collapse-button-bg-hover)":void 0}),multiValue:(e,{data:t})=>({...e,color:t?.color}),multiValueLabel:(e,{data:t})=>({...e,color:t?.color}),valueContainer:e=>({...e,padding:"0px",paddingLeft:"4px"}),menuPortal:e=>({...e,zIndex:"var(--ifm-z-index-overlay)"})},F={indicatorsContainer:()=>i.indicatorsContainer,multiValue:()=>i.multiValue,control:()=>i.control,menu:()=>i.control},k=e=>({...e,colors:{...e.colors,primary25:"var(--ifm-color-primary-lightest)",primary50:"var(--ifm-color-primary-lighter)",primary75:"var(--ifm-color-primary-light)",primary:"var(--ifm-color-primary)"}}),N=(0,a.PA)(e=>{let t=(0,o.Pj)("viewStore"),{eventTable:r}=e,a=(0,o.Pj)("departmentStore"),x=(0,o.Pj)("untisStore");l.useEffect(()=>{if(r&&!e.showCurrentAndFuture&&r.onlyCurrentWeekAndFuture)return r.setOnlyCurrentWeekAndFuture(!1),()=>r.setOnlyCurrentWeekAndFuture(!0)},[r,e.showCurrentAndFuture]);let g=e.showSelectLocation||"quick";return(0,s.jsxs)("div",{className:(0,n.A)(i.filter),children:[(0,s.jsxs)("div",{className:(0,n.A)(i.basic),children:[e.showSelects&&!r.showSelect&&"quick"===g&&(0,s.jsx)(b,{}),(0,s.jsx)("div",{className:(0,n.A)(i.spacer)}),(0,s.jsxs)("div",{className:(0,n.A)(i.audience,"button-group","button-group--block"),children:[!!t.user&&!e.hideMine&&(0,s.jsx)(c.Ay,{text:(0,h.T)({message:"Meine",id:"event.filter.mine",description:"Filter: Only events affecting me"}),title:(0,h.T)({message:"Nur die f\xfcr mich relevanten Termine anzeigen",id:"event.filter.mine.title"}),active:r.onlyMine,color:"primary",onClick:()=>r.toggleOnlyMine(),noWrap:!0}),r.showCurrentAndFutureFilter&&e.showCurrentAndFuture&&(0,s.jsx)(c.Ay,{text:(0,h.T)({message:"K\xfcnftige",id:"event.filter.future",description:"Filter: Only current and future events"}),title:(0,h.T)({message:"Vergangene Termine ausblenden.",id:"event.filter.future.title",description:"Filter: Only current and future events"}),active:r.onlyCurrentWeekAndFuture,color:"primary",onClick:()=>r.setOnlyCurrentWeekAndFuture(!r.onlyCurrentWeekAndFuture),noWrap:!0})]}),(0,s.jsx)("div",{className:(0,n.A)(i.fuzzyFilter,e.flexWidth&&i.flexWidth),children:(0,s.jsx)(u.A,{placeholder:(0,h.T)({message:"Suche",id:"event.filter.search"}),inputClassName:(0,n.A)(i.input),onChange:e=>r.setTextFilter(e),text:r.klassFilter})}),(0,s.jsxs)("div",{className:(0,n.A)(i.showMore),children:[(0,s.jsx)(c.Ay,{icon:v.ys,size:v.iJ,active:r.showAdvancedFilter,className:(0,n.A)(i.showAdvancedFilter),color:r.hasAdvancedFilters?"primary":void 0,title:(0,h.T)({id:"event.filter.showAdvanced",message:"Erweiterte Filter anzeigen",description:"Button: Show advanced filter"}),onClick:()=>r.setShowAdvancedFilter(!r.showAdvancedFilter)}),r.hasAdvancedFilters&&(0,s.jsxs)("span",{className:(0,n.A)(i.dirty),children:[(0,s.jsx)(y(),{path:d.jwx,size:v.WG,color:"var(--ifm-background-surface-color)",className:i.icon}),(0,s.jsx)(y(),{path:d.ZL5,size:.9*v.WG,color:"var(--ifm-color-primary)",className:i.icon})]})]}),(0,s.jsx)("div",{className:(0,n.A)(i.spacer)})]}),r.showAdvancedFilter&&(0,s.jsxs)("div",{className:(0,n.A)(i.advanced),children:[(0,s.jsxs)("div",{className:(0,n.A)(i.selects),children:[(0,s.jsx)("div",{className:(0,n.A)(i.department),children:(0,s.jsx)(f.Ay,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,h.T)({message:"Abteilungen",id:"event.filter.departments",description:"Filter: Departments"}),name:"departments-filter",menuPortalTarget:document.body,options:A().orderBy(a.usedDepartments,["name"]).map(e=>({value:e.id,label:e.name,color:e?.color})),styles:C,className:(0,n.A)(i.select),classNames:F,value:[...r.departmentIds].map(e=>{let t=a.find(e);return{value:e,label:t?.name||"",color:t?.color||"#ccc"}}),onChange:e=>{let t=e.map(e=>e.value);r.setDepartmentIds(t)},theme:k})}),(0,s.jsx)("div",{className:(0,n.A)(i.classes),children:(0,s.jsx)(f.Ay,{isMulti:!0,closeMenuOnSelect:!1,placeholder:(0,h.T)({message:"Klassen",id:"event.filter.classes",description:"Filter: Classes"}),name:"class-filter",menuPortalTarget:document.body,options:A().orderBy(x.classes,["name"]).map(e=>({value:e.name,label:e.displayName,color:e.department?.color})),styles:C,className:(0,n.A)(i.select),classNames:F,value:[...r.classNames].map(e=>{let t=x.findClassByName(e);return{value:e,label:t?.displayName||"",color:t?.department?.color||"#ccc"}}),onChange:e=>{let t=e.map(e=>e.value);r.setClassNames(t)},theme:k})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:(0,s.jsx)(h.A,{id:"event.filter.advanced.filterAudience",children:"Nach Zielgruppe filtern"})}),(0,s.jsx)("div",{className:(0,n.A)(i.buttonGroup,"button-group","button-group--block"),children:Object.keys(w.hu).map(e=>(0,s.jsx)(c.Ay,{text:w.aZ[e],active:r.audienceFilter.has(e),color:"primary",onClick:()=>r.toggleAudienceFilter(e),noWrap:!0},e))})]}),(0,s.jsx)("div",{children:(0,s.jsx)(p.A,{label:(0,h.T)({message:"Gel\xf6schte Verstecken?",id:"event.filter.deleted",description:"Filter: deleted"}),checked:r.hideDeleted,onChange:e=>r.setHideDeleted(e),labelSide:"left"})}),e.showSelects&&!r.showSelect&&"advanced"===g&&(0,s.jsx)("div",{children:(0,s.jsx)(b,{label:(0,h.T)({id:"event.filter.show_select",message:"Termine ausw\xe4hlen"})})}),(0,s.jsxs)("div",{className:(0,n.A)(i.dates),children:[(0,s.jsx)("div",{className:(0,n.A)(i.date,i.start),children:r.start?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{date:r.start||new Date,onChange:e=>r.setStartFilter(e),time:"start"}),(0,s.jsx)(c.Ay,{icon:d.xkN,iconSide:"left",text:(0,h.T)({message:"Start",id:"event.filter.index.button.start",description:"Text of button start time"}),onClick:()=>r.setStartFilter(null)})]}):(0,s.jsx)(c.Ay,{icon:d.Bp_,iconSide:"left",text:(0,h.T)({message:"Start",id:"event.filter.index.button.start",description:"Text of button start time"}),onClick:()=>r.setStartFilter(new Date)})}),(0,s.jsx)("div",{className:(0,n.A)(i.date,i.end),children:r.end?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{date:r.end||new Date,onChange:e=>r.setEndFilter(e),time:"end"}),(0,s.jsx)(c.Ay,{icon:d.xkN,iconSide:"left",text:(0,h.T)({message:"Ende",id:"event.filter.index.button.end",description:"Text of button end time"}),onClick:()=>r.setEndFilter(null)})]}):(0,s.jsx)(c.Ay,{icon:d.Bp_,iconSide:"left",text:(0,h.T)({message:"Ende",id:"event.filter.index.button.end",description:"Text of button end time"}),onClick:()=>r.setEndFilter(new Date)})})]})]})]})})},85907:function(e,t,r){r.d(t,{A:()=>f});var s=r(74848),l=r(96540),n=r(34164),i=r(2219),a=r(7246),o=r(86123),c=r(4784),d=r(50840),u=r(2543),m=r.n(u);let{CURRENT_LOCALE:v}=c.default.customFields,p={de:"gsw",fr:"fr"},h=(0,o.Aj)(e=>m().orderBy(e,["startTimeMs"],["asc"]).map((e,t)=>{let r={progressColor:"#ffbb54",progressSelectedColor:"#ff9e0d"};return e.isDeleted&&(r.progressColor="#ff0000",r.progressSelectedColor="#830000",r.backgroundSelectedColor="#830000",r.backgroundColor="#ff0000"),{start:e.start,end:e.end,name:`${e.isDeleted?"\u274C: ":""}${e.description}`,id:e.id||`id-${t}`,type:"task",progress:e.progress,isDisabled:!0,styles:r}})),f=(0,a.PA)(e=>{let t=l.useRef(null),[r,a]=l.useState(0),o=h(e.events),c=(0,d.Pj)("viewStore");l.useEffect(()=>{let e=setTimeout(()=>{let e=document.querySelector(".today");e&&(e.scrollIntoView(),window.scrollTo(0,0))},20);return()=>clearTimeout(e)},[e.events,e.events.length]),l.useEffect(()=>{let e=t.current;if(e){let t=e.querySelectorAll("div");if(t.length>1){let e=t[1],r=e=>{e.stopImmediatePropagation()};return e.addEventListener("wheel",r),()=>e.removeEventListener("wheel",r)}if(r<50){let e=setTimeout(()=>{a(r+1)},200);return()=>clearTimeout(e)}console.warn("Could not find the wheel-blocking div in the gantt component. Sidescrolling might not work.")}},[t.current,r]);let u=l.useMemo(()=>e=>{let t=e.target,r=t.querySelector('div[dir="ltr"] > svg');r&&(r.style.transform=`translateY(${t.scrollTop}px)`)},[]);return(0,s.jsx)("div",{className:(0,n.A)("container_dISx"),onScroll:u,children:(0,s.jsx)("div",{className:(0,n.A)("gantt_B07y"),ref:t,children:o.length>0&&(0,s.jsx)(i.N,{tasks:o,viewMode:i.n.Day,listCellWidth:"",viewDate:new Date,rowHeight:20,locale:p[v||"de"],onClick:e=>{c.setEventModalId(e.id)}})})})})},54080:function(e,t,r){r.d(t,{A:()=>i});var s=r(74848),l=r(96540),n=r(34164);let i=e=>{let t=l.useRef(null);return l.useEffect(()=>{t.current&&e.autoFocus&&t.current.focus()},[t,e.autoFocus]),(0,s.jsx)("div",{className:(0,n.A)(e.className,"textInput_K1iv"),children:(0,s.jsx)("input",{ref:t,type:e.htmlType??(e.search?"search":"text"),value:e.text,placeholder:e.placeholder,autoFocus:e.autoFocus,className:e.inputClassName,onChange:t=>{e.onChange(t.currentTarget.value)}})})}},45188:function(e,t,r){r.r(t),r.d(t,{default:()=>c});var s=r(74848);r(96540);var l=r(7246),n=r(50840),i=r(57554),a=r(78680),o=r(85907);let c=(0,l.PA)(()=>{let e=(0,n.Pj)("viewStore"),{eventTable:t}=e;return(0,s.jsxs)(i.A,{children:[(0,s.jsx)(a.Ay,{showCurrentAndFuture:!0,eventTable:e.eventTable}),(0,s.jsx)(o.A,{events:t.events})]})})}}]);